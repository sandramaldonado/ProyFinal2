"use strict";(self.webpackChunklanding_master_sales_frontend=self.webpackChunklanding_master_sales_frontend||[]).push([[592],{7139:(x,h,o)=>{o.d(h,{n:()=>E});var t=o(1135),r=o(4650);let E=(()=>{class i{constructor(){this.captchSource=new t.X(null),this.captchStatus=this.captchSource.asObservable()}setCaptchaStatus(d){this.captchSource.next(d)}}return i.\u0275fac=function(d){return new(d||i)},i.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},5231:(x,h,o)=>{o.d(h,{N:()=>E});var t=o(7579),r=o(4650);let E=(()=>{class i{constructor(){this.products=[],this.listSizeSubject=new t.x,this._listSize=this.listSizeSubject.asObservable()}addToCart(d){this.products.push(d),this.listSizeSubject.next(this.products.length)}getItems(){return this.listSizeSubject.next(this.products.length),this.products}getSize(){return this._listSize}clearCart(){return this.products=[],this.products}}return i.\u0275fac=function(d){return new(d||i)},i.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},3560:(x,h,o)=>{o.d(h,{M:()=>g});var t=o(404),r=o(2843),E=o(262),i=o(7065),u=o(1002),d=o(4650),_=o(529);let g=(()=>{class v{constructor(n){this.http=n,this.products=[],this.product=new t.x,this.httpPostOptions=u.z8,this.httpGetOptions=u.bN}getProducts(){return this.http.get(i.N.url_api_simplekart_mock_server+"/items",this.httpGetOptions)}getProductDetail(n){return this.http.get(i.N.url_api_simplekart_mock_server+"/items/"+n).pipe((0,E.K)(L=>(console.log("error caught in service"),(0,r._)(L))))}}return v.\u0275fac=function(n){return new(n||v)(d.LFG(_.eN))},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},6616:(x,h,o)=>{o.d(h,{B:()=>_});var t=o(529),r=o(5625),E=o(262),i=o(2843),u=o(7065),d=o(4650);let _=(()=>{class g{constructor(p){this.httpClient=p,this.urToken=`${u.N.SSIAuthApiUrl}`,this.httpOptions={headers:new t.WM({"Content-Type":"application/json"})}}gettoken(){return this.httpClient.post(`${this.urToken}`,JSON.stringify({username:"landing",password:"3X4E+U7d1m1XprRamjfaRg=="}),this.httpOptions).pipe((0,r.X)(1),(0,E.K)(this.handleError))}handleError(p){return p.error instanceof ErrorEvent?console.error("An error occurred:",p.error.message):console.error(`Backend returned code ${p.status}, body was: ${p.error}`),(0,i._)("Something bad happened; please try again later.")}}return g.\u0275fac=function(p){return new(p||g)(d.LFG(t.eN))},g.\u0275prov=d.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},404:(x,h,o)=>{o.d(h,{x:()=>t});class t{}},7876:(x,h,o)=>{o.d(h,{G:()=>p});var t=o(4650),r=o(3060),E=o(5231),i=o(7392),u=o(3683),d=o(4859),_=o(1561),g=o(2673),v=o(6895);let p=(()=>{class n{constructor(O,s){this.router=O,this.cartService=s,this.totalItems$=this.cartService.getSize()}ngOnInit(){this.totalItems$=this.cartService.getSize()}}return n.\u0275fac=function(O){return new(O||n)(t.Y36(r.F0),t.Y36(E.N))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-header"]],decls:50,vars:4,consts:[[1,"container-fluid"],[1,"row"],["mat-icon-button","","aria-label","Example icon-button with menu icon",1,"example-icon"],[3,"matMenuTriggerFor"],["src","../../../assets/images/pages/header/logo-viva.png","alt","",1,"toolbar-logo"],[1,"toolbar-spacer"],["mat-icon-button","","aria-label","Example icon-button with heart icon",1,"example-icon","favorite-icon"],["mat-icon-button","","aria-label","Example icon-button with share icon","routerLink","/compras",1,"example-icon"],["matBadgeColor","warn",3,"matBadge"],["mat-icon-button","","aria-label","Example icon-button with share icon",1,"example-icon"],["menu","matMenu"],["mat-menu-item","","routerLink","/home"],["mat-menu-item","","routerLink","['/oferta', { code: TIPBATVF }]"],["mat-menu-item","","routerLink","/oferta?code=PMBAEP"],["mat-menu-item","","routerLink","/oferta/orden-compra/"],["mat-menu-item","","routerLink","/lista-productos"],["mat-menu-item","","routerLink","/cobertura"],["mat-menu-item","","routerLink","/tomar-foto"],["mat-menu-item","","routerLink","/compras"],["mat-menu-item","","routerLink","/en-construccion"]],template:function(O,s){if(1&O&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-toolbar")(3,"button",2)(4,"mat-icon",3),t._uU(5,"menu"),t.qZA()(),t._UZ(6,"img",4)(7,"span",5),t.TgZ(8,"button",6)(9,"mat-icon"),t._uU(10,"favorite"),t.qZA()(),t.TgZ(11,"button",7)(12,"mat-icon",8),t.ALo(13,"async"),t._uU(14,"shopping_cart"),t.qZA()(),t.TgZ(15,"button",9)(16,"mat-icon"),t._uU(17,"account_circle"),t.qZA()()(),t.TgZ(18,"mat-menu",null,10)(20,"button",11)(21,"span"),t._uU(22,"Inicio"),t.qZA()(),t.TgZ(23,"button",12)(24,"span"),t._uU(25,"Oferta: TRIPLE PLAY"),t.qZA()(),t.TgZ(26,"button",12)(27,"span"),t._uU(28,"Oferta: DUO PLAY"),t.qZA()(),t.TgZ(29,"button",13)(30,"span"),t._uU(31,"Oferta: STAND ALONE (MOVIL)"),t.qZA()(),t.TgZ(32,"button",14)(33,"span"),t._uU(34,"Oferta - Orden de Compra"),t.qZA()(),t.TgZ(35,"button",15)(36,"span"),t._uU(37,"Listado de Productos"),t.qZA()(),t.TgZ(38,"button",16)(39,"span"),t._uU(40,"Cobertura"),t.qZA()(),t.TgZ(41,"button",17)(42,"span"),t._uU(43,"Tomar foto"),t.qZA()(),t.TgZ(44,"button",18)(45,"span"),t._uU(46,"Carro de Compras"),t.qZA()(),t.TgZ(47,"button",19)(48,"span"),t._uU(49,"En Construccion"),t.qZA()()()()()),2&O){const c=t.MAs(19);t.xp6(4),t.Q6J("matMenuTriggerFor",c),t.xp6(8),t.Q6J("matBadge",t.lcZ(13,2,s.totalItems$))}},dependencies:[i.Hw,u.Ye,d.lW,_.VK,_.OP,_.p6,g.k,r.rH,v.Ov],styles:[".toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{background:linear-gradient(180deg,#D6F084 0%,rgba(214,240,132,0) 100%);color:#5c339d}.mat-toolbar[_ngcontent-%COMP%]   .toolbar-logo[_ngcontent-%COMP%]{max-width:100px}"]}),n})()},3517:(x,h,o)=>{o.d(h,{W:()=>O});var t=o(4650),r=o(4006),E=o(529),i=o(7065),u=o(3063);let d=(()=>{class s{constructor(m,l){this.httpClient=m,this.webstoreservice=l,this.url=`${i.N.EmailApiUrl}`,this.httpOptions={headers:new E.WM({"Content-Type":"application/json",Accept:"application/json"})}}sendValidationEmail(m){var l=this.webstoreservice.getClientInformation();return this.httpClient.post(`${this.url}`,JSON.stringify({email:l.email&&""!=l.email?l.email:"cristhian.valencia@nuevatel.com",code:m}),this.httpOptions)}}return s.\u0275fac=function(m){return new(m||s)(t.LFG(E.eN),t.LFG(u.f))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var _=o(6895),g=o(3546),v=o(42);function p(s,c){1&s&&(t.TgZ(0,"small",23),t._uU(1,"El codigo es obligatorio"),t.qZA())}function n(s,c){1&s&&(t.TgZ(0,"small",23),t._uU(1,"El codigo no es valido"),t.qZA())}function L(s,c){1&s&&(t.TgZ(0,"small",24),t._uU(1,"El codigo es valido"),t.qZA())}let O=(()=>{class s{constructor(m,l){this.emailService=m,this.webstoreservice=l,this.validCode=!1,this.disabled=!0,this.emailValidationForm=new r.cw({codeValidationEmail:new r.NI("",[r.kI.required])}),this.nextCheckEmailStep=new t.vpe}get emailCode(){return this.emailValidationForm.get("codeValidationEmail")}ngOnInit(){console.log("check email"),this.sendValidationCode()}validateEmail(){console.log("emailcode input",this.emailCode?.value),console.log("randomemailcode",this.randomEmailCode),this.emailCode?.value==this.randomEmailCode&&(this.disabled=!1,this.validCode=!0,this.next())}sendValidationCode(){this.randomEmailCode=this.randomNumber(),this.emailService.sendValidationEmail(this.randomEmailCode).subscribe(l=>{console.log(l)})}randomNumber(){const m="0123456789",a=[];for(let T=0;T<4;T++){let e=Math.floor(Math.random()*m.length+1);-1===a.indexOf(m[e])?a.push(m[e]):T--}return a.join("")}next(){this.webstoreservice.saveDataInSession("checkemail",{validationCode:this.randomEmailCode}),this.nextCheckEmailStep.emit(!0)}}return s.\u0275fac=function(m){return new(m||s)(t.Y36(d),t.Y36(u.f))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-check-email"]],outputs:{nextCheckEmailStep:"nextCheckEmailStep"},decls:35,vars:7,consts:[[1,"container"],[1,"row","pb-3"],[1,"section-body","col-12","py-3"],[1,"d-flex","flex-column","justify-content-around","align-items-center"],[1,"my-3","border"],[1,"text-center"],["action","",3,"formGroup"],["formEmail","ngForm"],[1,"d-flex","flex-column","justify-content-between","align-items-center","py-5"],["src","assets/images/iconos/email.png","alt","",1,"pb-2"],[1,"mb-3"],["for","codeValidationEmail",1,"form-label"],[1,"form-outline"],["id","codeValidationEmail","name","codeValidationEmail","formControlName","codeValidationEmail","type","text","value","Codigo de validaci\xf3n","aria-label","readonly input example","my-1","",1,"form-control"],[1,"d-flex","flex-column"],["class","text-danger",4,"ngIf"],["class","text-success",4,"ngIf"],["id","emailHelp",1,"form-text"],[1,"form-text",3,"click"],[1,"form-text"],[1,""],[1,"row","d-flex","flex-column","justify-content-between","align-items-center"],[3,"disabled","content","click"],[1,"text-danger"],[1,"text-success"]],template:function(m,l){if(1&m&&(t.TgZ(0,"div",0)(1,"div",1)(2,"section",2)(3,"div",3)(4,"h3"),t._uU(5,"Validaci\xf3n de email"),t.qZA(),t.TgZ(6,"p"),t._uU(7,"Es necesario validar tu correo electr\xf3nico para el env\xedo de facturas electr\xf3nicas y otras notificaciones."),t.qZA(),t.TgZ(8,"mat-card",4)(9,"mat-card-content",5)(10,"form",6,7)(12,"div",8),t._UZ(13,"img",9),t.TgZ(14,"p"),t._uU(15,"No olvides que ser\xe1 utilizado como m\xe9todo de contacto oficial "),t.qZA(),t.TgZ(16,"div",10)(17,"label",11),t._uU(18,"Codigo de validaci\xf3n"),t.qZA(),t.TgZ(19,"div",12),t._UZ(20,"input",13),t.TgZ(21,"div",14),t.YNc(22,p,2,0,"small",15),t.YNc(23,n,2,0,"small",15),t.YNc(24,L,2,0,"small",16),t.qZA()(),t.TgZ(25,"div",17),t._uU(26,"Introduce el codigo recibido"),t.qZA(),t.TgZ(27,"a",18),t.NdJ("click",function(){return l.sendValidationCode()}),t._uU(28,"Reenviar codigo"),t.qZA(),t.TgZ(29,"div",19),t._uU(30),t.qZA()(),t.TgZ(31,"p",20),t._uU(32,"Te llegar\xe1 un correo de confirmaci\xf3n a tu correo electr\xf3nico para validarlo."),t.qZA(),t.TgZ(33,"div",21)(34,"app-button",22),t.NdJ("click",function(){return l.validateEmail()}),t.qZA()()()()()()()()()()),2&m){const a=t.MAs(11);t.xp6(10),t.Q6J("formGroup",l.emailValidationForm),t.xp6(12),t.Q6J("ngIf",(null==l.emailCode?null:l.emailCode.invalid)&&(null==l.emailCode?null:l.emailCode.touched)),t.xp6(1),t.Q6J("ngIf",!l.validCode&&a.submitted),t.xp6(1),t.Q6J("ngIf",l.validCode&&a.submitted),t.xp6(6),t.hij(" ",l.randomEmailCode,""),t.xp6(4),t.Q6J("disabled",l.emailValidationForm.invalid)("content","Validar correo electronico")}},dependencies:[_.O5,g.a8,g.dn,v.r,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:[".mat-card[_ngcontent-%COMP%]{padding:1px!important;width:100%;color:#7b7b7b}.section-body[_ngcontent-%COMP%]{background:white;color:#848484}"]}),s})()},3434:(x,h,o)=>{o.r(h),o.d(h,{CheckEmailModule:()=>p});var t=o(6895),r=o(3546),E=o(3060),i=o(3517),u=o(4650);const d=[{path:"",component:i.W}];let _=(()=>{class n{}return n.\u0275fac=function(O){return new(O||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[E.Bz.forChild(d),E.Bz]}),n})();var g=o(4006),v=o(4466);let p=(()=>{class n{}return n.\u0275fac=function(O){return new(O||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[t.ez,r.QW,_,v.m,g.u5,g.UX]}),n})()},5428:(x,h,o)=>{o.d(h,{h:()=>l});var t=o(4650),r=o(529),E=o(5625),i=o(262),u=o(2843),d=o(7065);let _=(()=>{class a{constructor(e){this.httpClient=e,this.apiUrl=`${d.N.MovilNumberListApiUrl}`,this.headers=new r.WM,this.httpOptions={}}getMovilList(e,M){return this.httpClient.post(`${this.apiUrl}`,e,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+M}}).pipe((0,E.X)(1),(0,i.K)(this.handleError))}handleError(e){return e.error instanceof ErrorEvent?console.error("An error occurred:",e.error.message):console.error(`Backend returned code ${e.status}, body was: ${e.error}`),(0,u._)("Something bad happened; please try again later.")}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(r.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var g=o(3063),v=o(4006),p=o(6895),n=o(3546),L=o(1948),O=o(42);function s(a,T){1&a&&t._UZ(0,"div")}function c(a,T){if(1&a){const e=t.EpF();t.TgZ(0,"div",11)(1,"div",12)(2,"mat-radio-button",13),t.NdJ("change",function(f){t.CHM(e);const C=t.oxw(2);return t.KtG(C.radioChange(f))}),t.TgZ(3,"span"),t._uU(4),t.qZA()()()()}if(2&a){const e=T.$implicit;t.xp6(1),t.Akn(e.style),t.Tol(e.description),t.xp6(1),t.Q6J("value",e.value)("checked",e.checked),t.xp6(2),t.hij("\xa0",e.name,"")}}function m(a,T){if(1&a&&(t.TgZ(0,"div",8)(1,"h4",9)(2,"b"),t._uU(3,"MOVIL"),t.qZA()(),t.TgZ(4,"p"),t._uU(5,"Elije un N\xfamero"),t.qZA(),t.YNc(6,c,5,7,"div",10),t.qZA()),2&a){const e=t.oxw();t.xp6(6),t.Q6J("ngForOf",e.linesList)}}let l=(()=>{class a{constructor(e,M,f){this.movilListService=e,this.webstoreservice=M,this.formBuilder=f,this.linesList=[],this.internetList=[],this.tvList=[],this.movilState=!1,this.internetState=!1,this.entertainmentState=!1,this.lineaInternet="",this.lineaTv="",this.limitLine=5,this.nextMovilListStep=new t.vpe,this.title="Elije tu N\xfamero",this.message="Te damos algunas opciones de l\xedneas telef\xf3nicas para que puedas tener tu nuevo plan con un n\xfamero telef\xf3nico que te agrade.",this.key=sessionStorage.getItem("key")}ngOnInit(){this.armadoJsonScoring(),this.searchList()}armadoJsonScoring(){this.planComposition=this.webstoreservice.getPlanComposition(),this.planList=this.planComposition?.planList,console.log(this.planComposition),console.log(this.planList),this.productTypeCode=[];for(let e=0;e<this.planList.length;e++)this.productTypeCode.push(this.planList[e].consumptionEntityType);this.planService=JSON.stringify({userCode:"14",ceTypeCodeList:this.productTypeCode,processId:165435435})}searchList(){var e=0;this.listagroup=[];var M="{";this.movilListService.getMovilList(this.planService,this.key).subscribe(f=>{this.numberList=f;const C=this.numberList.data.data.movil;if(C.length>0){this.movilState=!0,M+="'movil_control': new FormControl(null, [Validators.required]),",this.listagroup.push("movil_control");for(let b=e;b<C.length;b++)this.linesList.push(0==b?{id:b.toString(),name:C[b],value:C[b],description:"alert alert-info divOption",style:"background-color: #d3a1f9; color: white; border: 4px solid #5C339D; border-radius:12px;",checked:!0}:{id:b.toString(),name:C[b],value:C[b],description:"alert alert-secondary divOption",style:"color: black; border-radius:12px;",checked:!1}),e+=1}const A=this.numberList.data.data.ifixed,P=this.numberList.data.data.tv;console.log(A),A.length>0&&(this.lineaInternet=A[0]),console.log(P),P.length>0&&(this.lineaTv=P[0]),console.log(this.listagroup),M+="}",JSON.stringify(M),console.log(this.linesList)},f=>{console.log(f)})}next(){this.nextMovilListStep.emit(!0)}radioChange(e){console.log(e.source.name),console.log(e.source.value);var M=e.source.value;const f=this.numberList.data.data.movil;console.log(f),this.linesList=[];for(let C=0;C<f.length;C++)this.linesList.push(M==f[C]?{id:C.toString(),name:f[C],value:f[C],description:"alert alert-info divOption",style:"background-color: #d3a1f9; color: white; border: 4px solid #5C339D; border-radius:12px;",checked:!0}:{id:C.toString(),name:f[C],value:f[C],description:"alert alert-secondary divOption",style:"color: black; border-radius:12px;",checked:!1})}get movil_control(){return this.validationForm.get("movil_control")}get internet_control(){return this.validationForm.get("internet_control")}get tv_control(){return this.validationForm.get("tv_control")}updateOnclickMovil(e){console.log(e.target.value)}updateOnclickInternet(e){console.log(e.target.value)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(_),t.Y36(g.f),t.Y36(v.qu))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-movil-list"]],outputs:{nextMovilListStep:"nextMovilListStep"},decls:19,vars:5,consts:[[1,"container"],[1,"row","pb-3"],[1,"section-body","col-12","py-3"],["novalidate","","id","validationForm",1,"form",2,"background-color","white"],[4,"ngIf","ngIfThen"],["trueMovil",""],[1,"text-center"],[3,"content","click"],[1,"row",2,"color","black"],[2,"color","black"],["class","col-6 col-md-6 col-sm-6",4,"ngFor","ngForOf"],[1,"col-6","col-md-6","col-sm-6"],["role","alert"],["name","movil",3,"value","checked","change"]],template:function(e,M){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"section",2)(3,"h3"),t._uU(4),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.qZA(),t.TgZ(7,"mat-card")(8,"mat-card-content")(9,"form",3),t.YNc(10,s,1,0,"div",4),t.YNc(11,m,7,1,"ng-template",null,5,t.W1O),t._UZ(13,"br")(14,"br")(15,"br")(16,"br"),t.TgZ(17,"div",6)(18,"app-button",7),t.NdJ("click",function(){return M.next()}),t.qZA()()()()()()()()),2&e){const f=t.MAs(12);t.xp6(4),t.Oqu(M.title),t.xp6(2),t.Oqu(M.message),t.xp6(4),t.Q6J("ngIf",1==M.movilState)("ngIfThen",f),t.xp6(8),t.Q6J("content","Continuar")}},dependencies:[p.sg,p.O5,v._Y,v.JL,v.F,n.a8,n.dn,L.U0,O.r],styles:["mat-card-header[_ngcontent-%COMP%]   .title-1[_ngcontent-%COMP%]{font-size:2.5vh;text-align:left;color:purple;font-family:MUSEO900-REGULAR;margin:0}mat-card-header[_ngcontent-%COMP%]   .title-2[_ngcontent-%COMP%]{font-size:1.8vh;text-align:left;color:#000;font-family:MUSEO600-REGULAR}mat-card-title[_ngcontent-%COMP%]{margin-bottom:.5vh}.mat-icon-button[_ngcontent-%COMP%]{width:4vh!important;height:auto!important;margin-top:-6px;margin-right:-3px}mat-card-content[_ngcontent-%COMP%]{background:#F0F0F0;color:purple;border-radius:0 0 25px 25px}.link-back[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:right;font-weight:700;text-decoration:none;color:#b302a7}.mat-card[_ngcontent-%COMP%]{padding:10px!important;width:100%;color:#7b7b7b}.section-body[_ngcontent-%COMP%]{background:white}mat-form-field[_ngcontent-%COMP%]{width:100%}.divOption[_ngcontent-%COMP%]{margin:5px}  .mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element{background-color:#fff!important;border-color:#fff!important;border-radius:8px}  .mat-radio-button.mat-accent .mat-radio-inner-circle{background-color:#9eee58!important;border-color:#fff!important;border-radius:8px}  .mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle{background-color:#fff!important;border-color:#fff!important;border-radius:8px}"]}),a})()},5380:(x,h,o)=>{o.r(h),o.d(h,{MovilListModule:()=>s});var t=o(6895),r=o(3060),E=o(5428),i=o(4650);const u=[{path:"",component:E.h}];let d=(()=>{class c{}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=i.oAB({type:c}),c.\u0275inj=i.cJS({imports:[r.Bz.forChild(u),r.Bz]}),c})();var _=o(9499),g=o(1948),v=o(4859),p=o(4006),n=o(3546),L=o(4466),O=o(9336);let s=(()=>{class c{}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=i.oAB({type:c}),c.\u0275inj=i.cJS({imports:[t.ez,d,_.O,p.u5,p.UX,n.QW,v.ot,g.Fk,L.m,O.zB]}),c})()}}]);
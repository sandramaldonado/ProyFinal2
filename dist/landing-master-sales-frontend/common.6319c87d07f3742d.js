"use strict";(self.webpackChunklanding_master_sales_frontend=self.webpackChunklanding_master_sales_frontend||[]).push([[592],{2584:(L,v,e)=>{e.d(v,{Y:()=>g});var t=e(7065),n=e(4650),y=e(3063),c=e(529);let g=(()=>{class p{constructor(h,m){this.webstoreservice=h,this.httpClient=m,this.apiUrl=`${t.N.BreApiUrl}`}coverageEvaluation(h){console.log(h);const d={headers:{"Content-Type":"application/json",Authorization:"Bearer "+h}};var l=this.webstoreservice.getPlanComposition(),a={productTypeCode:[],compositionPlanCode:l.planCompositionCode,channelCode:"landing"};let f=[];for(let o=0;o<l.planList.length;o++)f.push(l.planList[o].consumptionEntityType);return a.productTypeCode=f,this.httpClient.post(`${this.apiUrl}/productCatalog/coverageEvaluation`,JSON.stringify(a),d)}}return p.\u0275fac=function(h){return new(h||p)(n.LFG(y.f),n.LFG(c.eN))},p.\u0275prov=n.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},7139:(L,v,e)=>{e.d(v,{n:()=>y});var t=e(1135),n=e(4650);let y=(()=>{class c{constructor(){this.captchSource=new t.X(null),this.captchStatus=this.captchSource.asObservable()}setCaptchaStatus(p){this.captchSource.next(p)}}return c.\u0275fac=function(p){return new(p||c)},c.\u0275prov=n.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},5231:(L,v,e)=>{e.d(v,{N:()=>y});var t=e(7579),n=e(4650);let y=(()=>{class c{constructor(){this.products=[],this.listSizeSubject=new t.x,this._listSize=this.listSizeSubject.asObservable()}addToCart(p){this.products.push(p),this.listSizeSubject.next(this.products.length)}getItems(){return this.listSizeSubject.next(this.products.length),this.products}getSize(){return this._listSize}clearCart(){return this.products=[],this.products}}return c.\u0275fac=function(p){return new(p||c)},c.\u0275prov=n.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},3560:(L,v,e)=>{e.d(v,{M:()=>h});var t=e(404),n=e(2843),y=e(262),c=e(7065),g=e(1002),p=e(4650),E=e(529);let h=(()=>{class m{constructor(l){this.http=l,this.products=[],this.product=new t.x,this.httpPostOptions=g.z8,this.httpGetOptions=g.bN}getProducts(){return this.http.get(c.N.url_api_simplekart_mock_server+"/items",this.httpGetOptions)}getProductDetail(l){return this.http.get(c.N.url_api_simplekart_mock_server+"/items/"+l).pipe((0,y.K)(a=>(console.log("error caught in service"),(0,n._)(a))))}}return m.\u0275fac=function(l){return new(l||m)(p.LFG(E.eN))},m.\u0275prov=p.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},404:(L,v,e)=>{e.d(v,{x:()=>t});class t{}},7876:(L,v,e)=>{e.d(v,{G:()=>h});var t=e(4650),n=e(3060),y=e(5231),c=e(7392),g=e(3683),p=e(4859),E=e(1561);let h=(()=>{class m{constructor(l,a){this.router=l,this.cartService=a,this.totalItems$=this.cartService.getSize()}ngOnInit(){this.totalItems$=this.cartService.getSize()}}return m.\u0275fac=function(l){return new(l||m)(t.Y36(n.F0),t.Y36(y.N))},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-header"]],decls:31,vars:1,consts:[[1,"container-fluid"],[1,"row"],["mat-icon-button","","aria-label","Example icon-button with menu icon",1,"example-icon"],[3,"matMenuTriggerFor"],["src","../../../assets/images/pages/header/logo-viva.png","alt","",1,"toolbar-logo"],[1,"toolbar-spacer"],["mat-icon-button","","aria-label","Example icon-button with share icon",1,"example-icon"],["menu","matMenu"],["mat-menu-item","","routerLink","/oferta/orden-compra/"],["mat-menu-item","","routerLink","/detalle-compra/"],["mat-menu-item","","routerLink","/cobertura"],["mat-menu-item","","routerLink","/documentos"],["mat-menu-item","","routerLink","/tomar-foto"],["mat-menu-item","","routerLink","/en-construccion"]],template:function(l,a){if(1&l&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-toolbar")(3,"button",2)(4,"mat-icon",3),t._uU(5,"menu"),t.qZA()(),t._UZ(6,"img",4)(7,"span",5),t.TgZ(8,"button",6)(9,"mat-icon"),t._uU(10,"account_circle"),t.qZA()()(),t.TgZ(11,"mat-menu",null,7)(13,"button",8)(14,"span"),t._uU(15,"Oferta - Orden de Compra"),t.qZA()(),t.TgZ(16,"button",9)(17,"span"),t._uU(18,"Detalle de Compra"),t.qZA()(),t.TgZ(19,"button",10)(20,"span"),t._uU(21,"Cobertura"),t.qZA()(),t.TgZ(22,"button",11)(23,"span"),t._uU(24,"Documentos"),t.qZA()(),t.TgZ(25,"button",12)(26,"span"),t._uU(27,"Tomar foto"),t.qZA()(),t.TgZ(28,"button",13)(29,"span"),t._uU(30,"En Construccion"),t.qZA()()()()()),2&l){const f=t.MAs(12);t.xp6(4),t.Q6J("matMenuTriggerFor",f)}},dependencies:[c.Hw,g.Ye,p.lW,E.VK,E.OP,E.p6,n.rH],styles:[".toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{background:linear-gradient(180deg,#D6F084 0%,rgba(214,240,132,0) 100%);color:#5c339d}.mat-toolbar[_ngcontent-%COMP%]   .toolbar-logo[_ngcontent-%COMP%]{max-width:100px}"]}),m})()},4021:(L,v,e)=>{e.d(v,{$:()=>l});var t=e(7065),n=e(4650),y=e(3063),c=e(529),g=e(262);let p=(()=>{class a{constructor(o){this.http=o}post(o,s,r){return this.http.post(this.getURL(o),s,this.getOptions(o,!0,null,r)).pipe((0,g.K)(u=>this.handleErrorConnection(u)))}handleErrorConnection(o){throw console.log(o.error.message),new Error(o&&o.error?o.error.message:"Method not implemented.")}getOptions(o,s,r,u){let C;if(C={headers:new c.WM},C.headers=C.headers.append("Accept","application/json"),u&&(C.headers=C.headers.append("Authorization",`Bearer ${u.token}`)),o&&s){const b=new c.LE({fromObject:o});C.params=b}return r&&(C.responseType=r),C}getURL(o){let s=`${t.N.endPoint}${o}`;return console.log(s),s}}return a.\u0275fac=function(o){return new(o||a)(n.LFG(c.eN))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),E=(()=>{class a{constructor(o){this.api=o}startOrder(o,s){return this.api.post("/workflow/sales/startOrder",s,{token:o}).pipe()}}return a.\u0275fac=function(o){return new(o||a)(n.LFG(p))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var h=e(3060),m=e(9336);function d(a,f){if(1&a){const o=n.EpF();n.TgZ(0,"card-pay-microfront-app",5),n.NdJ("dataPayMent",function(r){n.CHM(o);const u=n.oxw();return n.KtG(u.dataPayMent(r))}),n.qZA()}if(2&a){const o=n.oxw();n.s9C("paramIn",o.toSendString(o.microFrontParamIn)),n.s9C("paramClass",o.toSendString(o.paramClass))}}let l=(()=>{class a{constructor(o,s,r){this.webstoreService=o,this.salesService=s,this.router=r,this.title="Configura tu tarjeta de cr\xe9dito o d\xe9bito",this.message="Introduce tu tarjeta de d\xe9bito o cr\xe9dito para que puedas pagar tus servicios VIVA cada mes.",this.microFrontKeys={url:t.N.urlCardPayMicrofrontApp,id:"card-pay-microfront-app"},this.microFrontParamIn={},this.paramClass={rowItem:"row",col1:"col-1",col11:"col-11",col12:"col-12",col6:"col-6",sizeForm:"tama\xf1odiv form-field",labelInput:"hasEvents",labelAlert:"matError text-danger",txtCenter:"text-center",customBtn:"custom-button",appearance:"outline",floatLabel:"always",backgroundgreend:"backgroundgreend",p15:"padding15",aCenter:"align-items-center",txtEnd:"text-end"}}ngOnInit(){const o=this.webstoreService.getDataInSession("orderMainId");this.person=this.webstoreService.getClientInformation(),console.log("*****TOKEN");const r=this.webstoreService.getDataInSession("token");console.log(r),this.offertotaltariff=this.webstoreService.getDataInSession("offertotaltariff"),console.log("****this.offertotaltariff"),console.log(this.offertotaltariff),this.fullNames=this.getNames(),this.fullLastNames=this.getLastNames(),this.statusscoring=this.webstoreService.getDataInSession("statusscoring"),console.log("******statusscoring"),console.log(this.statusscoring);const u=this.getRecurring(this.statusscoring);console.log("*******descRecurring"),console.log(u),this.code=this.webstoreService.getOfferConsuptioncode(),console.log("******code OfferConsuptioncode"),console.log(this.code),this.microFrontParamIn={theme:"light-green",orderType:"SALES",orderId:o||null,channel:"LANDING",entityType:"partyId",entityId:this.person&&this.person.personId?this.person.personId:null,language:"es",termsOfService:{mode:"required",url:"https://www.viva.com.bo/"},currency:"BOB",cart:[{sellerId:"NT",sellerDesc:"Viva"}],recurring:{mode:u},fullNames:this.fullNames,fullLastNames:this.fullLastNames,uniqueId:null,payAmountMode:"required",user:this.person,amount:this.offertotaltariff,token:r}}getRecurring(o){var s="preselected";return"NORMAL"==o&&(s="required"),"CCOPOS"==this.code&&"EXPRESS"==o&&(s="optional"),s}getNames(){const o=this.person;let s=o.name;return null!=o.middleName&&(s=s+" "+o.middleName),s.trim()}getLastNames(){const o=this.person;let s=o.lastName1;return null!=o.lastName2&&(s=s+" "+o.lastName2),s.trim()}toSendString(o){return JSON.stringify(o)}dataPayMent(o){if(o){console.log(o);const s=this.webstoreService.getDataInSession("offernumberofentities"),r=this.webstoreService.getDataInSession("ordermainid"),u=this.webstoreService.getDataInSession("plancompositioncode"),C={orderNumber:r,saleType:this.statusscoring,processType:"PTFSALE",planCodeList:[u],rawData:"",totalPrice:"0",totalItems:s,deliveryMethod:"MANUAL",requiresCashbox:"0",requiresBonification:"0",requiresCustomerApproval:"0",requiresValidateCustomerData:"0",system:"LANDING"};console.log(C),this.salesService.startOrder(this.webstoreService.getDataInSession("token"),C).subscribe(b=>{console.log(b),this.router.navigate(["/payment-done"])})}}}return a.\u0275fac=function(o){return new(o||a)(n.Y36(y.f),n.Y36(E),n.Y36(h.F0))},a.\u0275cmp=n.Xpm({type:a,selectors:[["app-card-payment"]],decls:9,vars:3,consts:[[1,"container"],[1,"row","pb-3"],[1,"section-body","col-12","py-3"],[1,"pFont"],[3,"paramIn","paramClass","dataPayMent",4,"axLazyElement"],[3,"paramIn","paramClass","dataPayMent"]],template:function(o,s){1&o&&(n.TgZ(0,"div",0)(1,"div",1)(2,"section",2)(3,"h3"),n._uU(4),n.qZA(),n.TgZ(5,"p",3),n._uU(6),n.qZA(),n._UZ(7,"mat-card"),n.YNc(8,d,1,2,"card-pay-microfront-app",4),n.qZA()()()),2&o&&(n.xp6(4),n.Oqu(s.title),n.xp6(2),n.Oqu(s.message),n.xp6(2),n.Q6J("axLazyElement",s.microFrontKeys.url))},dependencies:[m.xY],styles:['@charset "UTF-8";  .pFont{font-family:Roboto;color:#8c8c8d}  .backgroundgreend{background:#DFF39F;border-radius:15px;padding:15px}  .padding15{padding:15px}mat-label.hasEvents[_ngcontent-%COMP%]{pointer-events:auto;color:#5c349d}mat-form-field[_ngcontent-%COMP%]{width:95%}input[_ngcontent-%COMP%]{color:#5c349d}#icon[_ngcontent-%COMP%]{position:absolute;display:block;bottom:.5rem;right:.1rem;opacity:.5!important;-webkit-user-select:none;user-select:none;cursor:pointer}  .tama\\f1odiv{margin-left:5px;margin-right:5px}  .matError{text-align:right;margin-top:-7px}  .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{opacity:.3}  .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:#0009!important}  .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#0009!important}']}),a})()},5943:(L,v,e)=>{e.r(v),e.d(v,{CardPaymentModule:()=>m});var t=e(9336),n=e(6895),y=e(4466),c=e(4021),g=e(3060),p=e(4650);const E=[{path:"",component:c.$}];let h=(()=>{class d{}return d.\u0275fac=function(a){return new(a||d)},d.\u0275mod=p.oAB({type:d}),d.\u0275inj=p.cJS({imports:[g.Bz.forChild(E),g.Bz]}),d})(),m=(()=>{class d{}return d.\u0275fac=function(a){return new(a||d)},d.\u0275mod=p.oAB({type:d}),d.\u0275inj=p.cJS({imports:[n.ez,h,y.m,t.zB]}),d})()},3517:(L,v,e)=>{e.d(v,{W:()=>f});var t=e(4650),n=e(4006),y=e(529),c=e(7065),g=e(3063);let p=(()=>{class o{constructor(r,u){this.httpClient=r,this.webstoreservice=u,this.url=`${c.N.EmailApiUrl}`,this.httpOptions={headers:new y.WM({"Content-Type":"application/json",Accept:"application/json"})}}sendValidationEmail(r){var u=this.webstoreservice.getClientInformation();return this.httpClient.post(`${this.url}`,JSON.stringify({email:u.email&&""!=u.email?u.email:"cristhian.valencia@nuevatel.com",code:r}),this.httpOptions)}}return o.\u0275fac=function(r){return new(r||o)(t.LFG(y.eN),t.LFG(g.f))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var E=e(6895),h=e(3546),m=e(42);function d(o,s){1&o&&(t.TgZ(0,"small",23),t._uU(1,"El codigo es obligatorio"),t.qZA())}function l(o,s){1&o&&(t.TgZ(0,"small",23),t._uU(1,"El codigo no es valido"),t.qZA())}function a(o,s){1&o&&(t.TgZ(0,"small",24),t._uU(1,"El codigo es valido"),t.qZA())}let f=(()=>{class o{constructor(r,u){this.emailService=r,this.webstoreservice=u,this.validCode=!1,this.disabled=!0,this.emailValidationForm=new n.cw({codeValidationEmail:new n.NI("",[n.kI.required])}),this.nextCheckEmailStep=new t.vpe}get emailCode(){return this.emailValidationForm.get("codeValidationEmail")}ngOnInit(){console.log("check email"),this.sendValidationCode()}validateEmail(){console.log("emailcode input",this.emailCode?.value),console.log("randomemailcode",this.randomEmailCode),this.emailCode?.value==this.randomEmailCode&&(this.disabled=!1,this.validCode=!0,this.next())}sendValidationCode(){this.randomEmailCode=this.randomNumber(),this.emailService.sendValidationEmail(this.randomEmailCode).subscribe(u=>{console.log(u)})}randomNumber(){const r="0123456789",C=[];for(let b=0;b<4;b++){let x=Math.floor(Math.random()*r.length+1);-1===C.indexOf(r[x])?C.push(r[x]):b--}return C.join("")}next(){this.webstoreservice.saveDataInSession("checkemail",{validationCode:this.randomEmailCode}),this.nextCheckEmailStep.emit(!0)}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(p),t.Y36(g.f))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-check-email"]],outputs:{nextCheckEmailStep:"nextCheckEmailStep"},decls:35,vars:7,consts:[[1,"container"],[1,"row","pb-3"],[1,"section-body","col-12","py-3"],[1,"d-flex","flex-column","justify-content-around","align-items-center"],[1,"my-3","border"],[1,"text-center"],["action","",3,"formGroup"],["formEmail","ngForm"],[1,"d-flex","flex-column","justify-content-between","align-items-center","py-5"],["src","assets/images/iconos/email.png","alt","",1,"pb-2"],[1,"mb-3"],["for","codeValidationEmail",1,"form-label"],[1,"form-outline"],["id","codeValidationEmail","name","codeValidationEmail","formControlName","codeValidationEmail","type","text","value","Codigo de validaci\xf3n","aria-label","readonly input example","my-1","","autocomplete","off",1,"form-control","text-center"],[1,"d-flex","flex-column"],["class","text-danger",4,"ngIf"],["class","text-success",4,"ngIf"],["id","emailHelp",1,"form-text"],[1,"form-text",3,"click"],[1,"form-text"],[1,""],[1,"row","d-flex","flex-column","justify-content-between","align-items-center"],[3,"disabled","content","click"],[1,"text-danger"],[1,"text-success"]],template:function(r,u){if(1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"section",2)(3,"div",3)(4,"h3"),t._uU(5,"Validaci\xf3n de email"),t.qZA(),t.TgZ(6,"p"),t._uU(7,"Es necesario validar tu correo electr\xf3nico para el env\xedo de facturas electr\xf3nicas y otras notificaciones."),t.qZA(),t.TgZ(8,"mat-card",4)(9,"mat-card-content",5)(10,"form",6,7)(12,"div",8),t._UZ(13,"img",9),t.TgZ(14,"p"),t._uU(15,"No olvides que ser\xe1 utilizado como m\xe9todo de contacto oficial "),t.qZA(),t.TgZ(16,"div",10)(17,"label",11),t._uU(18,"Codigo de validaci\xf3n"),t.qZA(),t.TgZ(19,"div",12),t._UZ(20,"input",13),t.TgZ(21,"div",14),t.YNc(22,d,2,0,"small",15),t.YNc(23,l,2,0,"small",15),t.YNc(24,a,2,0,"small",16),t.qZA()(),t.TgZ(25,"div",17),t._uU(26,"Introduce el codigo recibido"),t.qZA(),t.TgZ(27,"a",18),t.NdJ("click",function(){return u.sendValidationCode()}),t._uU(28,"Reenviar codigo"),t.qZA(),t.TgZ(29,"div",19),t._uU(30),t.qZA()(),t.TgZ(31,"p",20),t._uU(32,"Te llegar\xe1 un correo de confirmaci\xf3n a tu correo electr\xf3nico para validarlo."),t.qZA(),t.TgZ(33,"div",21)(34,"app-button",22),t.NdJ("click",function(){return u.validateEmail()}),t.qZA()()()()()()()()()()),2&r){const C=t.MAs(11);t.xp6(10),t.Q6J("formGroup",u.emailValidationForm),t.xp6(12),t.Q6J("ngIf",(null==u.emailCode?null:u.emailCode.invalid)&&(null==u.emailCode?null:u.emailCode.touched)),t.xp6(1),t.Q6J("ngIf",!u.validCode&&C.submitted),t.xp6(1),t.Q6J("ngIf",u.validCode&&C.submitted),t.xp6(6),t.hij(" ",u.randomEmailCode,""),t.xp6(4),t.Q6J("disabled",u.emailValidationForm.invalid)("content","Validar correo electronico")}},dependencies:[E.O5,h.a8,h.dn,m.r,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u],styles:[".mat-card[_ngcontent-%COMP%]{padding:1px!important;width:100%;color:#7b7b7b}.section-body[_ngcontent-%COMP%]{background:white;color:#848484}"]}),o})()},3434:(L,v,e)=>{e.r(v),e.d(v,{CheckEmailModule:()=>d});var t=e(6895),n=e(3546),y=e(3060),c=e(3517),g=e(4650);const p=[{path:"",component:c.W}];let E=(()=>{class l{}return l.\u0275fac=function(f){return new(f||l)},l.\u0275mod=g.oAB({type:l}),l.\u0275inj=g.cJS({imports:[y.Bz.forChild(p),y.Bz]}),l})();var h=e(4006),m=e(4466);let d=(()=>{class l{}return l.\u0275fac=function(f){return new(f||l)},l.\u0275mod=g.oAB({type:l}),l.\u0275inj=g.cJS({imports:[t.ez,n.QW,E,m.m,h.u5,h.UX]}),l})()},5830:(L,v,e)=>{e.d(v,{M:()=>l});var t=e(4650),n=e(4006),y=e(3063),c=e(4527),g=e(6895),p=e(1948),E=e(5001);function h(a,f){if(1&a&&(t.TgZ(0,"div",11)(1,"mat-radio-button",12)(2,"span")(3,"i",13),t._uU(4),t.qZA(),t._uU(5),t.qZA()()()),2&a){const o=f.$implicit;t.Akn(o.style),t.xp6(1),t.Q6J("value",o.value)("checked",o.checked),t.xp6(3),t.Oqu(o.design),t.xp6(1),t.hij("\xa0",o.name,"")}}function m(a,f){1&a&&t._UZ(0,"app-store-city")}function d(a,f){1&a&&t._UZ(0,"app-almost-done")}let l=(()=>{class a{constructor(o,s){this.webstoreService=o,this.ordersService=s,this.title="\xbfC\xf3mo prefieres recibir tus equipos?",this.message="El servicio contratado tiene art\xedculos que debemos entregarte.",this.listOfOptions=[{value:"storesInfo",design:"storefront",style:"background-color: #5C349D; color: white; border: 1px solid #5C349D; border-radius:16px;",name:"Recoja en Tienda",id:"1",checked:!0}],this.validationForm=new n.cw({entregaData:new n.NI("",[n.kI.required])}),this.nextDeliveryMethodStep=new t.vpe,this.methods={storesInfo:{active:!1,visited:!1},deliveriesInfo:{active:!1,visited:!1}}}ngOnChanges(o){alert("Existi\xf3 un error en ejecuci\xf3n")}ngOnInit(){this.changeOptions("storesInfo")}resetDivs(){this.methods.storesInfo.active=!1,this.methods.deliveriesInfo.active=!1}changeOptions(o){switch(this.resetDivs(),this.methods[o].active=!0,o){case"storesInfo"==o:this.methods.storesInfo.visited||(this.methods.storesInfo.visited=!0);break;case"delivery"==o:this.methods.deliveriesInfo.visited||(this.methods.deliveriesInfo.visited=!0)}}radioChange(o){"storesInfo"===o.source.value?(console.log(o.source.value),this.changeOptions(o.source.value)):(alert("Servicio no disponible Temporalmente"),this.resetDivs())}next(){this.nextDeliveryMethodStep.emit(!0),this.registerDeliveryType()}registerDeliveryType(){const s={orderId:this.webstoreService.getDataInSession("orderMainId"),sequence:6,userId:this.webstoreService.getDataInSession("userId"),microFrontendId:"delivery-type-microfront-app",microFrontendData:JSON.stringify({deliveryTypeId:"authorizedPointTypeId",deliveryTypeDesc:"authorizedPoint",paymentTypeId:"paymentCashId",paymentTypeDesc:"paymentCash"}),statusCode:"INI"};this.ordersService.registerOrderView(s,this.webstoreService.getDataInSession("token")).subscribe(r=>{console.log(r)})}}return a.\u0275fac=function(o){return new(o||a)(t.Y36(y.f),t.Y36(c.N))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-delivery-method"]],outputs:{nextDeliveryMethodStep:"nextDeliveryMethodStep"},features:[t.TTD],decls:24,vars:5,consts:[[1,"container"],[1,"row","pb-3"],[1,"section-body","col-12","py-3"],["href","#"],[1,"row"],[1,"col-12"],[1,"container",2,"color","#5C349D"],[1,"row",2,"margin-left","2px","margin-right","2px"],["name","entregaData","fxLayout","column",3,"change"],["class","alert alert-info","role","alert",3,"style",4,"ngFor","ngForOf"],[4,"ngIf"],["role","alert",1,"alert","alert-info"],["name","entregaData",3,"value","checked"],[1,"material-icons",2,"color","white"]],template:function(o,s){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"section",2)(3,"h3"),t._uU(4),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.TgZ(7,"a",3),t._uU(8,"Ver detallle de art\xedculos"),t.qZA()(),t.TgZ(9,"div",4)(10,"div",5)(11,"div",6)(12,"h5")(13,"b"),t._uU(14,"Elija el metodo de entrega"),t.qZA()(),t._UZ(15,"br"),t.qZA()(),t.TgZ(16,"div",5)(17,"div",7)(18,"mat-radio-group",8),t.NdJ("change",function(u){return s.radioChange(u)}),t.YNc(19,h,6,6,"div",9),t.qZA()()(),t.TgZ(20,"div",5),t.YNc(21,m,1,0,"app-store-city",10),t.qZA(),t.TgZ(22,"div",5),t.YNc(23,d,1,0,"app-almost-done",10),t.qZA()()()()()),2&o&&(t.xp6(4),t.Oqu(s.title),t.xp6(2),t.hij("",s.message," "),t.xp6(13),t.Q6J("ngForOf",s.listOfOptions),t.xp6(2),t.Q6J("ngIf",s.methods.storesInfo.active),t.xp6(2),t.Q6J("ngIf",s.methods.storesInfo.active))},dependencies:[g.sg,g.O5,p.VQ,p.U0,E.h],styles:[".mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element{background-color:#fff!important;border-color:#fff!important;border-radius:8px}  .mat-radio-button.mat-accent .mat-radio-inner-circle{background-color:#5c339d!important;border-color:#fff!important;border-radius:8px}  .mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle{background-color:#fff!important;border-color:#fff!important;border-radius:8px}"]}),a})()},1083:(L,v,e)=>{e.r(v),e.d(v,{DeliveryMethodModule:()=>s});var t=e(6895),n=e(3060),y=e(5830),c=e(4650);const g=[{path:"",component:y.M}];let p=(()=>{class r{}return r.\u0275fac=function(C){return new(C||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[n.Bz.forChild(g),n.Bz]}),r})();var E=e(3720),h=e(4006),m=e(3546),d=e(4859),l=e(4466),a=e(1948),f=e(9336),o=e(1262);let s=(()=>{class r{}return r.\u0275fac=function(C){return new(C||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[t.ez,p,E.O,h.u5,h.UX,m.QW,d.ot,a.Fk,l.m,f.zB,o.StoreCityModule]}),r})()},5428:(L,v,e)=>{e.d(v,{h:()=>b});var t=e(4650),n=e(529),y=e(5625),c=e(262),g=e(2843),p=e(7065);let E=(()=>{class x{constructor(i){this.httpClient=i,this.apiUrl=`${p.N.MovilNumberListApiUrl}`,this.headers=new n.WM,this.httpOptions={}}getMovilList(i,M){return this.httpClient.post(`${this.apiUrl}`,i,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+M}}).pipe((0,y.X)(1),(0,c.K)(this.handleError))}handleError(i){return i.error instanceof ErrorEvent?console.error("An error occurred:",i.error.message):console.error(`Backend returned code ${i.status}, body was: ${i.error}`),(0,g._)("Something bad happened; please try again later.")}}return x.\u0275fac=function(i){return new(i||x)(t.LFG(n.eN))},x.\u0275prov=t.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();var h=e(3063),m=e(4527),d=e(4006),l=e(8423),a=e(6895),f=e(3546),o=e(1948),s=e(42);function r(x,T){if(1&x){const i=t.EpF();t.TgZ(0,"div",11)(1,"div",12)(2,"mat-radio-button",13),t.NdJ("change",function(S){t.CHM(i);const O=t.oxw(2);return t.KtG(O.radioChange(S))}),t.TgZ(3,"span"),t._uU(4),t.qZA()()()()}if(2&x){const i=T.$implicit;t.xp6(1),t.Akn(i.style),t.Tol(i.description),t.xp6(1),t.Q6J("value",i.value)("checked",i.checked),t.xp6(2),t.hij("\xa0",i.name,"")}}function u(x,T){if(1&x){const i=t.EpF();t.TgZ(0,"div",11)(1,"div",14)(2,"a",15),t.NdJ("click",function(){t.CHM(i);const S=t.oxw(2);return t.KtG(S.clickme())}),t._uU(3," Mas opciones.."),t.qZA()()()}}function C(x,T){if(1&x){const i=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"section",4)(3,"h3"),t._uU(4),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.qZA(),t.TgZ(7,"mat-card")(8,"mat-card-content")(9,"form",5)(10,"div")(11,"div",6),t.YNc(12,r,5,7,"div",7),t.YNc(13,u,4,0,"div",8),t.qZA()(),t.TgZ(14,"div",9)(15,"app-button",10),t.NdJ("click",function(){t.CHM(i);const S=t.oxw();return t.KtG(S.next())}),t.qZA()()()()()()()()}if(2&x){const i=t.oxw();t.xp6(4),t.Oqu(i.title),t.xp6(2),t.Oqu(i.message),t.xp6(6),t.Q6J("ngForOf",i.linesList),t.xp6(1),t.Q6J("ngIf",5===i.limitLine),t.xp6(2),t.Q6J("content","Continuar")}}let b=(()=>{class x{constructor(i,M,S,O,I){this.movilListService=i,this.webstoreService=M,this.ordersService=S,this.formBuilder=O,this.spinnerService=I,this.linesList=[],this.internetList=[],this.tvList=[],this.movilState=!1,this.internetState=!1,this.entertainmentState=!1,this.movilLine="",this.wanLine="",this.tvLine="",this.limitLine=5,this.movilCounter=0,this.nextMovilListStep=new t.vpe,this.title="Elige tu N\xfamero",this.message="Te damos algunas opciones de l\xedneas telef\xf3nicas para que puedas tener tu nuevo plan con un n\xfamero telef\xf3nico que te agrade.",this.visited=!1,this.key=sessionStorage.getItem("key"),this.orderId=this.webstoreService.getDataInSession("orderMainId"),this.userId=this.webstoreService.getDataInSession("userId")}ngOnInit(){this.spinnerService.show(),setTimeout(()=>{this.spinnerService.hide()},1e4),this.armadoJsonScoring(),this.searchList()}armadoJsonScoring(){this.planComposition=this.webstoreService.getPlanComposition(),this.planList=this.planComposition?.planList,console.log(this.planComposition),console.log(this.planList),this.productTypeCode=[];for(let i=0;i<this.planList.length;i++)this.productTypeCode.push(this.planList[i].consumptionEntityType);this.planService=JSON.stringify({userCode:"14",ceTypeCodeList:this.productTypeCode,processId:this.orderId})}searchList(){let i="",M="",S="";this.listagroup=[],this.movilListService.getMovilList(this.planService,this.key).subscribe(O=>{if(this.numberList=O,console.log(this.numberList),null!=this.numberList.data.data.movil&&(i=this.numberList.data.data.movil),i.length>0){this.movilState=!0,this.listagroup.push("movil_control");for(let I=0;I<this.limitLine;I++)this.movilCounter=I,I<this.limitLine&&(0==I?(this.movilLine=i[I],this.linesList.push({id:I.toString(),name:i[I],value:i[I],description:"alert alert-info divOption",style:"background-color: #AC99CE; color: white; border: 2px solid #5C349D; border-radius:15px;",checked:!0})):this.linesList.push({id:I.toString(),name:i[I],value:i[I],description:"alert alert-secondary divOption",style:"background-color: #F1F1F1; color: black; border-radius:15px;",checked:!1}))}null!=this.numberList.data.data.ifixed&&(M=this.numberList.data.data.ifixed),null!=this.numberList.data.data.tv&&(S=this.numberList.data.data.tv),console.log(M),M.length>0&&(this.internetState=!0,this.wanLine=M[0]),console.log(S),S.length>0&&(this.entertainmentState=!0,this.tvLine=S[0]),""==this.movilLine&&this.next()},O=>{console.log(O)})}next(){let i={},M={},S={},O={};""!=this.movilLine&&(i={movil:[this.movilLine]}),""!=this.wanLine&&(M={ifixed:[this.wanLine]}),""!=this.tvLine&&(S={tv:[this.tvLine]}),O=Object.assign(i,M,S);let I=JSON.stringify({data:{transactionId:this.numberList.data.transactionId,data:O}});this.webstoreService.saveMovilListinformation(I),this.visited=!0,this.registerAactivation(O),this.nextMovilListStep.emit(!0)}radioChange(i){var M=i.source.value;const S=this.numberList.data.data.movil;this.linesList=[],this.movilLine=i.source.value;for(let O=0;O<this.limitLine;O++)this.linesList.push(M==S[O]?{id:O.toString(),name:S[O],value:S[O],description:"alert alert-info divOption",style:"background-color: #AC99CE; color: white; border: 2px solid #5C349D; border-radius:15px;",checked:!0}:{id:O.toString(),name:S[O],value:S[O],description:"alert alert-secondary divOption",style:"background-color: #F1F1F1; color: black; border-radius:15px;",checked:!1})}clickme(){this.limitLine=10,this.linesList=[];const i=this.numberList.data.data.movil;if(i.length>0){this.movilState=!0,this.listagroup.push("movil_control");for(let M=0;M<i.length;M++)M<this.limitLine&&this.linesList.push(0==M?{id:M.toString(),name:i[M],value:i[M],description:"alert alert-info divOption",style:"background-color: #AC99CE; color: white; border: 2px solid #5C349D; border-radius:15px;",checked:!0}:{id:M.toString(),name:i[M],value:i[M],description:"alert alert-secondary divOption",style:"background-color: #F1F1F1; color: black; border-radius:15px;",checked:!1})}}registerAactivation(i){if(console.log(i),!i)return;const M=this.webstoreService.getDataInSession("addressData");let S,O=0;M&&M.forEach(D=>{D.selected&&(S=D),O=S?.addressId});let I=[];i.movil&&i.movil.length>0&&I.push({planType:"MOVIL",serviceIdentifier:i.movil[0]}),i.ifixed&&i.ifixed.length>0&&I.push({planType:"IFIXED",serviceIdentifier:i.ifixed[0],address:{addressId:O,addressTypeCode:"INS_ADDR"}}),i.tv&&i.tv.length>0&&I.push({planType:"TV",serviceIdentifier:i.tv[0]});const P={orderId:this.webstoreService.getDataInSession("orderMainId"),sequence:5,userId:this.webstoreService.getDataInSession("userId"),microFrontendId:"activation-data-microfront-app",microFrontendData:JSON.stringify(I),statusCode:"INI"};this.ordersService.registerOrderView(P,this.webstoreService.getDataInSession("token")).subscribe(D=>{console.log(D)})}}return x.\u0275fac=function(i){return new(i||x)(t.Y36(E),t.Y36(h.f),t.Y36(m.N),t.Y36(d.qu),t.Y36(l.t2))},x.\u0275cmp=t.Xpm({type:x,selectors:[["app-movil-list"]],outputs:{nextMovilListStep:"nextMovilListStep"},decls:2,vars:2,consts:[["class","container",4,"ngIf"],["bdColor","rgba(51, 51, 51, 0.8)","size","large","color","#D6F084","type","ball-8bits",3,"fullScreen"],[1,"container"],[1,"row","pb-3"],[1,"section-body","col-12","py-3"],["novalidate","","id","validationForm",1,"form",2,"background-color","white"],[1,"row"],["class","col-6 col-md-6 col-sm-6",4,"ngFor","ngForOf"],["class","col-6 col-md-6 col-sm-6",4,"ngIf"],[1,"text-center"],[3,"content","click"],[1,"col-6","col-md-6","col-sm-6"],["role","alert"],["name","movil",3,"value","checked","change"],["role","alert",1,"alert","alert-light","divOption",2,"text-align","center"],["href","javascript: void(0);",1,"linkMore",3,"click"]],template:function(i,M){1&i&&(t.YNc(0,C,16,5,"div",0),t._UZ(1,"ngx-spinner",1)),2&i&&(t.Q6J("ngIf",M.movilState),t.xp6(1),t.Q6J("fullScreen",!1))},dependencies:[a.sg,a.O5,d._Y,d.JL,d.F,f.a8,f.dn,o.U0,s.r,l.Ro],styles:["mat-card-header[_ngcontent-%COMP%]   .title-1[_ngcontent-%COMP%]{font-size:2.5vh;text-align:left;color:purple;font-family:MUSEO900-REGULAR;margin:0}mat-card-header[_ngcontent-%COMP%]   .title-2[_ngcontent-%COMP%]{font-size:1.8vh;text-align:left;color:#000;font-family:MUSEO600-REGULAR}mat-card-title[_ngcontent-%COMP%]{margin-bottom:.5vh}.mat-icon-button[_ngcontent-%COMP%]{width:4vh!important;height:auto!important;margin-top:-6px;margin-right:-3px}mat-card-content[_ngcontent-%COMP%]{background:#F0F0F0;color:purple;border-radius:0 0 25px 25px}.link-back[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:right;font-weight:700;text-decoration:none;color:#b302a7}.mat-card[_ngcontent-%COMP%]{padding:10px!important;width:100%;color:#7b7b7b}.section-body[_ngcontent-%COMP%]{background:white}mat-form-field[_ngcontent-%COMP%]{width:100%}.divOption[_ngcontent-%COMP%]{margin:5px}.linkMore[_ngcontent-%COMP%]{text-align:right;font-weight:700;text-decoration:none;color:#00008b}  .mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element{background-color:#fff!important;border-color:#fff!important;border-radius:8px}  .mat-radio-button.mat-accent .mat-radio-inner-circle{background-color:#5c339d!important;border-color:#fff!important;border-radius:8px}  .mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle{background-color:#fff!important;border-color:#fff!important;border-radius:8px}"]}),x})()},5380:(L,v,e)=>{e.r(v),e.d(v,{MovilListModule:()=>s});var t=e(6895),n=e(3060),y=e(5428),c=e(4650);const g=[{path:"",component:y.h}];let p=(()=>{class r{}return r.\u0275fac=function(C){return new(C||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[n.Bz.forChild(g),n.Bz]}),r})();var E=e(3720),h=e(1948),m=e(4859),d=e(4006),l=e(3546),a=e(4466),f=e(9336),o=e(8423);let s=(()=>{class r{}return r.\u0275fac=function(C){return new(C||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[t.ez,p,E.O,d.u5,d.UX,l.QW,m.ot,h.Fk,a.m,f.zB,o.ef]}),r})()},2663:(L,v,e)=>{e.d(v,{A:()=>E});var t=e(4650),n=e(3063),y=e(6895),c=e(42),g=e(9717);function p(h,m){if(1&h){const d=t.EpF();t.TgZ(0,"app-button",7),t.NdJ("click",function(){t.CHM(d);const a=t.oxw();return t.KtG(a.next())}),t.qZA()}2&h&&t.Q6J("content","Continuar")}let E=(()=>{class h{constructor(d){this.webstoreservice=d,this.nextScoringStep=new t.vpe,this.acceptRecurrentPayment=!1}ngOnInit(){console.log("init scoring")}next(){this.webstoreservice.saveDataInSession("scoring",{acceptRecurrentPayment:!0}),this.acceptRecurrentPayment=!0,this.nextScoringStep.emit(!0)}}return h.\u0275fac=function(d){return new(d||h)(t.Y36(n.f))},h.\u0275cmp=t.Xpm({type:h,selectors:[["app-result-scoring"]],outputs:{nextScoringStep:"nextScoringStep"},decls:19,vars:2,consts:[[1,"container"],[1,"row","pb-3"],[1,"section-body","col-12","py-3"],[1,"divMain","d-flex","flex-column","justify-content-around"],[1,"d-flex","flex-column","justify-content-around","align-items-center"],[3,"content","click",4,"ngIf"],[3,"content"],[3,"content","click"]],template:function(d,l){1&d&&(t.TgZ(0,"div",0)(1,"div",1)(2,"section",2)(3,"div",3)(4,"h3"),t._uU(5,"Antes de continuar"),t.qZA(),t.TgZ(6,"p"),t._uU(7,"Debido a tu capacidad de endeudamiento, para continuar el proceso de compra por este canal "),t.TgZ(8,"b"),t._uU(9,"deber\xe1s habilitar el pago autom\xe1tico de tu servicio de manera mensual"),t.qZA(),t._uU(10," mediante una tarjeta de d\xe9bito o cr\xe9dito que te pediremos antes de concluir tu compra. "),t._UZ(11,"br"),t._uU(12," Es un proceso sencillo que te asegurar\xe1 que puedas adquirir este plan. "),t._UZ(13,"br")(14,"br"),t._uU(15," \xbfDeseas continuar?"),t.qZA(),t.TgZ(16,"div",4),t.YNc(17,p,1,1,"app-button",5),t._UZ(18,"app-button-outline",6),t.qZA()()()()()),2&d&&(t.xp6(17),t.Q6J("ngIf",!l.acceptRecurrentPayment),t.xp6(1),t.Q6J("content","Ver otros planes"))},dependencies:[y.O5,c.r,g.Y],styles:[".mat-card[_ngcontent-%COMP%]{padding:1px!important;width:100%;color:#7b7b7b}.section-body[_ngcontent-%COMP%]{background:white;color:#848484}.divMain[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:left;color:#5c349d}.divMain[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;color:#777}"]}),h})()},1102:(L,v,e)=>{e.r(v),e.d(v,{ResultScoringModule:()=>h});var t=e(6895),n=e(3060),y=e(2663),c=e(4650);const g=[{path:"",component:y.A}];let p=(()=>{class m{}return m.\u0275fac=function(l){return new(l||m)},m.\u0275mod=c.oAB({type:m}),m.\u0275inj=c.cJS({imports:[n.Bz.forChild(g),n.Bz]}),m})();var E=e(4466);let h=(()=>{class m{}return m.\u0275fac=function(l){return new(l||m)},m.\u0275mod=c.oAB({type:m}),m.\u0275inj=c.cJS({imports:[t.ez,p,E.m]}),m})()}}]);
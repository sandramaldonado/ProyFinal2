"use strict";(self.webpackChunklanding_master_sales_frontend=self.webpackChunklanding_master_sales_frontend||[]).push([[408],{2671:(y,d,o)=>{o.d(d,{y:()=>p});var l=o(529),a=o(5625),t=o(262),g=o(2843),v=o(4650);let p=(()=>{class r{constructor(s){this.httpClient=s,this.apiUrl="https://omega.devnt.ssidevops.com/crm360/client/person/search",this.headers=new l.WM,this.httpOptions={}}getClientByMovil(s,u){return this.headers={"Content-Type":"application/json",Authorization:"Bearer "+u},this.httpClient.get(`${this.apiUrl}/${s}`,{headers:this.headers})}getClientByDNI(s,u){const O={headers:{"Content-Type":"application/json",Authorization:"Bearer "+u}},m=JSON.stringify({documentId:s,documentType:""});return this.httpClient.post(`${this.apiUrl}`,m,O).pipe((0,a.X)(1),(0,t.K)(this.handleError))}handleError(s){return s.error instanceof ErrorEvent?console.error("An error occurred:",s.error.message):console.error(`Backend returned code ${s.status}, body was: ${s.error}`),(0,g._)("Something bad happened; please try again later.")}}return r.\u0275fac=function(s){return new(s||r)(v.LFG(l.eN))},r.\u0275prov=v.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},3063:(y,d,o)=>{o.d(d,{f:()=>v});var l=o(1002),a=o(4650),t=o(5219),g=o(529);let v=(()=>{class p{constructor(i,s,u){this.sessionStorageService=i,this.localStorageService=s,this.httpClient=u,this.httpPostOptions=l.z8,this.httpGetOptions=l.bN,this.urToken="http://omega.10.45.57.104.sslip.io/auth/login"}saveToken(){this.httpClient.post(`${this.urToken}`,JSON.stringify({username:"atcpru1",password:"V1tZKv0LyinCFc3QPaH7Iw=="}),this.httpPostOptions).subscribe(s=>{s.data?.token&&localStorage.setItem("TOKEN",s.data.token),this.localStorageService.store("TOKEN",s.data?.token)})}saveAuthenticateInformation(i){this.sessionStorageService.store("authenticateInformation",i)}getAuthenticateInformation(){return this.sessionStorageService.retrieve("authenticateInformation")}saveClientInformation(i){this.sessionStorageService.store("clientInformation",i)}getClientInformation(){return this.sessionStorageService.retrieve("clientInformation")}saveSelfie(i){this.sessionStorageService.store("photoFace",i)}getSelfie(){return console.log(this.sessionStorageService.retrieve("photoFace")),this.sessionStorageService.retrieve("photoFace")}saveDocument(i,s){this.sessionStorageService.store(i,s)}getDocument(i){return this.sessionStorageService.retrieve(i)}savePlanCompositionCode(i){this.sessionStorageService.store("planCompositionCode",i)}getPlanCompositionCode(){return this.sessionStorageService.retrieve("planCompositionCode")}savePlanComposition(i){this.sessionStorageService.store("planComposition",i)}getPlanComposition(){return this.sessionStorageService.retrieve("planComposition")}clearWebStorePlanComposition(){this.sessionStorageService.clear("planCompositionCode"),this.sessionStorageService.clear("planComposition")}saveStatusScoring(i){this.sessionStorageService.store("statusScoring",i)}getStatusScoring(){return this.sessionStorageService.retrieve("statusScoring")}}return p.\u0275fac=function(i){return new(i||p)(a.LFG(t.uR),a.LFG(t.n2),a.LFG(g.eN))},p.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},6408:(y,d,o)=>{o.r(d),o.d(d,{OfferModule:()=>C});var l=o(6895),a=o(3060),t=o(4650),g=o(2671),v=o(6616),p=o(6438),r=o(3063),i=o(42);function s(n,c){1&n&&t._UZ(0,"img",16)}function u(n,c){1&n&&t._UZ(0,"img",17)}function _(n,c){1&n&&t._UZ(0,"img",18)}function O(n,c){if(1&n&&(t.TgZ(0,"div",9)(1,"div",10),t.YNc(2,s,1,0,"img",11),t.YNc(3,u,1,0,"img",12),t.YNc(4,_,1,0,"img",13),t.qZA(),t.TgZ(5,"div",14)(6,"p",15),t._uU(7),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.qZA()()()),2&n){const e=c.$implicit;t.xp6(2),t.Q6J("ngIf",e.componentTradeName&&"MOVIL"==(null==e?null:e.consumptionEntityType)),t.xp6(1),t.Q6J("ngIf",e.componentTradeName&&"IFIXED"==(null==e?null:e.consumptionEntityType)),t.xp6(1),t.Q6J("ngIf",e.componentTradeName&&"TV"==(null==e?null:e.consumptionEntityType)),t.xp6(3),t.Oqu(null==e?null:e.consumptionEntityType),t.xp6(2),t.Oqu(null==e?null:e.componentOffer)}}function m(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"app-button",19),t.NdJ("click",function(){t.CHM(e);const T=t.oxw();return t.KtG(T.onClick())}),t.qZA()()}2&n&&(t.xp6(1),t.Q6J("content","Comprar este plan"))}const f=[{path:"",component:(()=>{class n{constructor(e,h,T,M,A,I){this.clientService=e,this.tokenService=h,this.route=T,this.router=M,this.planListService=A,this.webstoreService=I,this.showButton=!1}ngOnInit(){this.webstoreService.clearWebStorePlanComposition(),this.route.queryParams.subscribe(e=>{this.planCompositionCode=e.code}),this.getToken()}getToken(){this.tokenService.gettoken().subscribe(e=>{this.autentication=e,this.getPlansList()})}getPlansList(){var e=this;this.planListService.getPlanList(this.autentication.data.token).subscribe(h=>{this.planesList=h,console.log(this.planesList);var M=this.planesList.data.data.filter(function(A){return A.planCompositionCode===e.planCompositionCode});this.planComposition=M[0],console.log(this.planComposition),this.showButton=!0})}onClick(){this.webstoreService.savePlanCompositionCode(this.planCompositionCode),this.webstoreService.savePlanComposition(this.planComposition),this.router.navigate(["/client/validationClient"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.y),t.Y36(v.B),t.Y36(a.gz),t.Y36(a.F0),t.Y36(p.z),t.Y36(r.f))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-offer"]],decls:11,vars:3,consts:[[1,"container"],[1,"row","pb-5"],[1,"section-header","col-12","py-3"],[1,""],["src","assets/images/logo-viva.png","alt","",1,"pb-2",2,"width","200px","height","auto"],[1,"section-body","col-12","py-3"],[1,"d-flex","flex-column","justify-content-around","align-items-center"],["class","row w-100 border-top pt-2",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row","w-100","border-top","pt-2"],[1,"col-1","text-end"],["src","assets/images/iconos/movil.png","alt","","style","width: 20px; height: auto;",4,"ngIf"],["src","assets/images/iconos/wifi.png","alt","","style","width: 25px; height: auto;",4,"ngIf"],["src","assets/images/iconos/tv.png","alt","","style","width: 25px; height: auto;",4,"ngIf"],[1,"col-11"],[1,"component-title","mb-0","fw-bold"],["src","assets/images/iconos/movil.png","alt","",2,"width","20px","height","auto"],["src","assets/images/iconos/wifi.png","alt","",2,"width","25px","height","auto"],["src","assets/images/iconos/tv.png","alt","",2,"width","25px","height","auto"],[3,"content","click"]],template:function(e,h){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"section",2)(3,"div",3),t._UZ(4,"img",4),t.qZA()(),t.TgZ(5,"section",5)(6,"div",6)(7,"h3"),t._uU(8),t.qZA(),t.YNc(9,O,10,5,"div",7),t.YNc(10,m,2,1,"div",8),t.qZA()()()()),2&e&&(t.xp6(8),t.Oqu(null==h.planComposition?null:h.planComposition.groupTradeName),t.xp6(1),t.Q6J("ngForOf",null==h.planComposition?null:h.planComposition.planList),t.xp6(1),t.Q6J("ngIf",h.showButton))},dependencies:[l.sg,l.O5,i.r],styles:[".mat-card[_ngcontent-%COMP%]{padding:1px!important;width:100%;color:#7b7b7b}.section-body[_ngcontent-%COMP%]{background:white;color:#848484}.component-title[_ngcontent-%COMP%]{color:#5c339d}.section-header[_ngcontent-%COMP%]{background:linear-gradient(180deg,#D6F084 0%,rgba(214,240,132,0) 100%)}"]}),n})()}];let S=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[a.Bz.forChild(f),a.Bz]}),n})();var P=o(4466);let C=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[l.ez,S,P.m]}),n})()},1002:(y,d,o)=>{o.d(d,{bN:()=>t,cA:()=>g,z8:()=>a});var l=o(529);const a={headers:new l.WM({"Content-Type":"application/json",Accept:"application/json"})},t={headers:new l.WM({"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"*"})},g=[{valueField:"BEN",displayValue:"BENI",latitude:-14.831794,longitude:-64.901793},{valueField:"CBA",displayValue:"COCHABAMBA",latitude:-17.393688,longitude:-66.157119},{valueField:"LPZ",displayValue:"LA PAZ",latitude:-16.49564,longitude:-68.13368},{valueField:"ORU",displayValue:"ORURO",latitude:-17.96987,longitude:-67.114649},{valueField:"PAN",displayValue:"PANDO",latitude:-11.023511,longitude:-68.766225},{valueField:"POT",displayValue:"POTOSI",latitude:-19.57206,longitude:-65.755735},{valueField:"SCZ",displayValue:"SANTA CRUZ",latitude:-17.783558,longitude:-63.182115},{valueField:"SCR",displayValue:"SUCRE",latitude:-19.027878,longitude:-65.262753},{valueField:"TRJ",displayValue:"TARIJA",latitude:-21.538731,longitude:-64.722486}]},5625:(y,d,o)=>{o.d(d,{X:()=>p});var l=o(4482),a=o(5403),t=o(4671),g=o(5963),v=o(8421);function p(r=1/0){let i;i=r&&"object"==typeof r?r:{count:r};const{count:s=1/0,delay:u,resetOnSuccess:_=!1}=i;return s<=0?t.y:(0,l.e)((O,m)=>{let f,E=0;const S=()=>{let P=!1;f=O.subscribe((0,a.x)(m,C=>{_&&(E=0),m.next(C)},void 0,C=>{if(E++<s){const n=()=>{f?(f.unsubscribe(),f=null,S()):P=!0};if(null!=u){const c="number"==typeof u?(0,g.H)(u):(0,v.Xf)(u(C,E)),e=(0,a.x)(m,()=>{e.unsubscribe(),n()},()=>{m.complete()});c.subscribe(e)}else n()}else m.error(C)})),P&&(f.unsubscribe(),f=null,S())};S()})}}}]);
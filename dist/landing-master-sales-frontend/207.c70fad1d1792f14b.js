"use strict";(self.webpackChunklanding_master_sales_frontend=self.webpackChunklanding_master_sales_frontend||[]).push([[207],{9207:(Ie,D,l)=>{l.r(D),l.d(D,{OrderModule:()=>Me});var v=l(6895),_=l(3060),e=l(4650),x=l(3063),J=l(7065),U=l(529);let P=(()=>{class t{constructor(n,o){this.webstoreservice=n,this.httpClient=o,this.apiUrl=`${J.N.BreApiUrl}`}coverageEvaluation(n){console.log(n);const r={headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}};var a=this.webstoreservice.getPlanComposition(),s={productTypeCode:[],compositionPlanCode:a.planCompositionCode,channelCode:"landing"};let m=[];for(let p=0;p<a.planList.length;p++)m.push(a.planList[p].consumptionEntityType);return s.productTypeCode=m,this.httpClient.post(`${this.apiUrl}/productCatalog/coverageEvaluation`,JSON.stringify(s),r)}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(x.f),e.LFG(U.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var E=l(6616),L=l(4527),R=l(7141),N=l(2241),B=l(3517),S=l(655),y=l(6748),w=l(5219),Q=l(9886),Y=l(5861),f=(()=>{return(t=f||(f={}))[t.Up=1]="Up",t[t.Down=3]="Down",t[t.Right=6]="Right",t[t.Left=8]="Left",t[t.UpMirrored=2]="UpMirrored",t[t.DownMirrored=4]="DownMirrored",t[t.LeftMirrored=5]="LeftMirrored",t[t.RightMirrored=7]="RightMirrored",t[t.Default=0]="Default",t[t.NotJpeg=-1]="NotJpeg",t[t.NotDefined=-2]="NotDefined",f;var t})();class d{}d.getOrientation=t=>new Promise((i,n)=>{try{const o=new FileReader;o.onload=()=>{const r=new DataView(o.result);if(!r.byteLength||65496!==r.getUint16(0,!1))return i(f.NotDefined);const a=r.byteLength;let s=2;for(;s<a;){const m=r.getUint16(s,!1);if(s+=2,65505===m){if(1165519206!==r.getUint32(s+=2,!1))return i(f.NotJpeg);const p=18761===r.getUint16(s+=6,!1);s+=r.getUint32(s+4,p);const g=r.getUint16(s,p);s+=2;for(let c=0;c<g;c++)if(274===r.getUint16(s+12*c,p))return i(r.getUint16(s+12*c+8,p))}else{if(65280!=(65280&m))break;s+=r.getUint16(s,!1)}}return i(f.NotJpeg)},o.readAsArrayBuffer(t)}catch{return n(f.Default)}}),d.uploadFile=(t,i=!0,n=!1)=>new Promise(function(o,r){const a=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);Promise.resolve(a).then(s=>s?d.generateUploadInputNative(window.document,i,n):d.generateUploadInputRenderer(t,i,n)).then(s=>{const m=s?Array.from(s):[],p=m.map(u=>d.getOrientation(u)),g=m.map(u=>d.fileToDataURL(u));let c=[];Promise.all(p).then(u=>(c=u,Promise.all(g))).then(u=>{const C=u.map((b,T)=>({image:b.dataUrl,orientation:c[T],fileName:b.fileName}));o(i?C:C[0])})}).catch(s=>r(s))}),d.fileToDataURL=t=>new Promise((i,n)=>{const o=new FileReader;o.onload=r=>{i({dataUrl:r.target.result,fileName:t.name})};try{o.readAsDataURL(t)}catch(r){n(`ngx-image-compress - probably no file have been selected: ${r}`)}}),d.generateUploadInputRenderer=(t,i=!0,n=!1)=>{let o=!1;return new Promise((r,a)=>{const s=t.createElement("input");t.setStyle(s,"display","none"),t.setProperty(s,"type","file"),t.setProperty(s,"accept","image/*"),i&&t.setProperty(s,"multiple","true"),t.listen(s,"click",m=>{m.target.value=""}),t.listen(s,"change",m=>{o=!0,r(m.target.files)}),n&&window.addEventListener("focus",()=>{setTimeout(()=>{o||a(new Error("file upload on blur - no file selected"))},300)},{once:!0}),s.click()})},d.generateUploadInputNative=(t,i=!0,n=!1)=>{let o=!1;return new Promise((r,a)=>{const s=t.createElement("input");s.id="upload-input"+new Date,s.style.display="none",s.setAttribute("type","file"),i&&s.setAttribute("multiple","true"),t.body.appendChild(s),s.addEventListener("change",()=>{o=!0,r(s.files),t.body.removeChild(t.getElementById(s.id))},{once:!0}),n&&window.addEventListener("focus",()=>{setTimeout(()=>{!o&&t.getElementById(s.id)&&(a(new Error("file upload on blur - no file selected")),t.body.removeChild(t.getElementById(s.id)))},300)},{once:!0}),s.click()})},d.compress=(t,i,n,o=50,r=50,a=0,s=0)=>new Promise(function(m,p){r/=100,o/=100;const g=new Image;g.onload=()=>{const c=n.createElement("canvas"),u=c.getContext("2d");if(!u)return p("No canvas context available");let C=g.naturalWidth,b=g.naturalHeight;if(!CSS.supports("image-orientation","from-image")&&(i===f.Right||i===f.Left)){const ke=C;C=b,b=ke}o=Math.min(o,a?a/C:1,s?s/b:1),c.width=C*o,c.height=b*o;const Z=Math.PI/180;CSS.supports("image-orientation","from-image")||i===f.Up?u.drawImage(g,0,0,c.width,c.height):i===f.Right?(u.save(),u.rotate(90*Z),u.translate(0,-c.width),u.drawImage(g,0,0,c.height,c.width),u.restore()):i===f.Left?(u.save(),u.rotate(-90*Z),u.translate(-c.width,0),u.drawImage(g,0,0,c.height,c.width),u.restore()):i===f.Down?(u.save(),u.rotate(180*Z),u.translate(-c.width,-c.height),u.drawImage(g,0,0,c.width,c.height),u.restore()):u.drawImage(g,0,0,c.width,c.height);const Ze=t.substr(5,t.split(";")[0].length-5),De=c.toDataURL(Ze,r);m(De)},g.onerror=c=>p(c),g.src=t}),d.byteCount=t=>encodeURI(t).split(/%..|./).length-1,d.getImageMaxSize=function(){var t=(0,Y.Z)(function*(i,n,o){const a=p=>(p/1024/1024).toFixed(2);n&&console.debug("NgxImageCompress - Opening upload window");let m,s=yield d.uploadFile(o,!1);for(let p=0;p<10;p++){const g=d.byteCount(s.image);m=yield d.compress(s.image,s.orientation,o,50,100);const c=d.byteCount(m);if(console.debug("NgxImageCompress -","Compression from",a(g),"MB to",a(c),"MB"),c>=g)throw 0===p?(n&&console.debug("NgxImageCompress -","File can't be reduced at all - returning the original",a(g),"MB large"),s.image):(n&&console.debug("NgxImageCompress -","File can't be reduced more - returning the best we can, which is ",a(g),"MB large"),s.image);if(c<1024*i*1024)return n&&console.debug("NgxImageCompress -","Here your file",a(c),"MB large"),m;if(9===p)throw n&&console.debug("NgxImageCompress -","File can't reach the desired size after",10,"tries. Returning file ",a(g),"MB large"),s.image;n&&console.debug("NgxImageCompress -","Reached",a(c),"MB large. Trying another time after",p+1,"times"),s.image=m}throw n&&console.debug("NgxImageCompress - Unexpected error"),""});return function(i,n,o){return t.apply(this,arguments)}}();let q=(()=>{class t{constructor(n){this.DOC_ORIENTATION=f,this.render=n.createRenderer(null,null)}byteCount(n){return d.byteCount(n)}getOrientation(n){return d.getOrientation(n)}uploadFile(){return d.uploadFile(this.render,!1)}uploadMultipleFiles(){return d.uploadFile(this.render,!0)}uploadFileOrReject(){return d.uploadFile(this.render,!1,!0)}uploadMultipleFilesOrReject(){return d.uploadFile(this.render,!0,!0)}compressFile(n,o,r=50,a=50,s=0,m=0){return d.compress(n,o,this.render,r,a,s,m)}uploadAndGetImageWithMaxSize(n=1,o=!1){return d.getImageMaxSize(n,o,this.render)}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(e.FYo))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var M=l(3546),k=l(42),I=l(9717);function j(t,i){1&t&&e._UZ(0,"img",11)}function G(t,i){if(1&t&&(e.TgZ(0,"div",12)(1,"div",13),e._uU(2,"Vista Previa"),e.qZA(),e._UZ(3,"img",14),e.qZA()),2&t){const n=e.oxw();e.xp6(3),e.Q6J("src",n.firstDocument,e.LSH)}}function H(t,i){1&t&&e._UZ(0,"img",11)}function O(t,i){if(1&t&&(e.TgZ(0,"div",12)(1,"div",13),e._uU(2,"Vista Previa"),e.qZA(),e._UZ(3,"img",14),e.qZA()),2&t){const n=e.oxw();e.xp6(3),e.Q6J("src",n.secondDocument,e.LSH)}}function V(t,i){1&t&&e._UZ(0,"img",11)}function K(t,i){if(1&t&&(e.TgZ(0,"div",12)(1,"div",13),e._uU(2,"Vista Previa"),e.qZA(),e._UZ(3,"img",14),e.qZA()),2&t){const n=e.oxw();e.xp6(3),e.Q6J("src",n.facePicture,e.LSH)}}function X(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"app-button",9),e.NdJ("click",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.next())}),e.qZA()}2&t&&e.Q6J("content","Siguiente")}class h{constructor(i,n,o){this.modalService=i,this.imageCompress=n,this.webstoreService=o,this.nextDocumentStep=new e.vpe,this.visited=!1}ngOnInit(){}openModalWithComponent(){}uploadFirstDocument(){this.uploadAndCompress("firstDocument")}takePictureFirstDocument(){this.bsModalRef=this.modalService.show(y.Q,{initialState:{source:"firstDocument"}}),this.bsModalRef.content.closeBtnName="Close"}uploadSecondDocument(){this.uploadAndCompress("secondDocument")}takePictureSecondDocument(){this.bsModalRef=this.modalService.show(y.Q,{initialState:{source:"secondDocument"}}),this.bsModalRef.content.closeBtnName="Close"}uploadFacePicture(){this.uploadAndCompress("facePicture")}takeFacePicture(){this.bsModalRef=this.modalService.show(y.Q,{initialState:{source:"facePicture"}}),this.bsModalRef.content.closeBtnName="Close"}uploadAndCompress(i){let n=this;this.imageCompress.uploadFile().then(({image:o,orientation:r})=>{let a=this.imageCompress.byteCount(o);if(a>4e5){console.log("Size in bytes was:",this.imageCompress.byteCount(o));let s=100;s=a<=5e5?80:a<1e6?70:a<2e6?60:a<5e6?40:a<7e6?30:a<1e7?20:10,this.imageCompress.compressFile(o,r,s,90).then(m=>{n.webstoreService.saveDocument(i,m),console.log("(>400000)Size in bytes is now:",this.imageCompress.byteCount(m))})}else this.imageCompress.compressFile(o,r,90,90).then(s=>{n.webstoreService.saveDocument(i,s),console.log("(<400000)Size in bytes after compression is now:",this.imageCompress.byteCount(s))})}).catch(o=>{})}next(){this.visited=!0,this.nextDocumentStep.emit(!0)}}function W(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"app-button",7),e.NdJ("click",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.next())}),e.qZA()}2&t&&e.Q6J("content","Continuar")}h.\u0275fac=function(i){return new(i||h)(e.Y36(Q.tT),e.Y36(q),e.Y36(x.f))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-documents"]],outputs:{nextDocumentStep:"nextDocumentStep"},decls:36,vars:13,consts:[[1,"container"],[1,"row","pb-3"],[1,"section-body","col-12","py-3"],[1,"d-flex","flex-column","justify-content-around","align-items-center"],[1,"my-3","border"],[1,"text-center"],[1,"d-flex","flex-column","justify-content-between","align-items-center","py-5"],["src","assets/images/iconos/picture.png","alt","","class","pb-2",4,"ngIf"],["class","d-flex flex-column justify-content-center align-items-center border rounded mt-2 mt-lg-0 p-2","style","background-color: white;",4,"ngIf"],[3,"content","click"],[3,"content","click",4,"ngIf"],["src","assets/images/iconos/picture.png","alt","",1,"pb-2"],[1,"d-flex","flex-column","justify-content-center","align-items-center","border","rounded","mt-2","mt-lg-0","p-2",2,"background-color","white"],[1,"snapshot-title","text-center"],[1,"",2,"min-height","200px","width","270px","height","auto",3,"src"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"section",2)(3,"div",3)(4,"h3"),e._uU(5,"Documentos de identidad"),e.qZA(),e.TgZ(6,"p"),e._uU(7,"Necesitamos verificar tu identidad con tus documentos legales."),e.qZA(),e.TgZ(8,"mat-card",4)(9,"mat-card-content",5)(10,"div",6),e.YNc(11,j,1,0,"img",7),e.YNc(12,G,4,1,"div",8),e.TgZ(13,"p"),e._uU(14,"Sube la fotograf\xeda de CI (anverso) "),e.qZA(),e.TgZ(15,"app-button",9),e.NdJ("click",function(){return n.uploadFirstDocument()}),e.qZA(),e.TgZ(16,"app-button-outline",9),e.NdJ("click",function(){return n.takePictureFirstDocument()}),e.qZA()()()(),e.TgZ(17,"mat-card",4)(18,"mat-card-content",5)(19,"div",6),e.YNc(20,H,1,0,"img",7),e.YNc(21,O,4,1,"div",8),e.TgZ(22,"p"),e._uU(23,"Sube la fotograf\xeda de CI (reverso)"),e.qZA(),e.TgZ(24,"app-button",9),e.NdJ("click",function(){return n.uploadSecondDocument()}),e.qZA(),e.TgZ(25,"app-button-outline",9),e.NdJ("click",function(){return n.takePictureSecondDocument()}),e.qZA()()()(),e.TgZ(26,"mat-card",4)(27,"mat-card-content",5)(28,"div",6),e.YNc(29,V,1,0,"img",7),e.YNc(30,K,4,1,"div",8),e.TgZ(31,"p"),e._uU(32,"Sube la fotograf\xeda de ti sin gorra o algo q tape tu rostro"),e.qZA(),e.TgZ(33,"app-button",9),e.NdJ("click",function(){return n.uploadFacePicture()}),e.qZA(),e.TgZ(34,"app-button-outline",9),e.NdJ("click",function(){return n.takeFacePicture()}),e.qZA()()()(),e.YNc(35,X,1,1,"app-button",10),e.qZA()()()()),2&i&&(e.xp6(11),e.Q6J("ngIf",!n.firstDocument||""==n.firstDocument),e.xp6(1),e.Q6J("ngIf",n.firstDocument&&""!=n.firstDocument),e.xp6(3),e.Q6J("content","Subir imagen"),e.xp6(1),e.Q6J("content","Tomar fotografia"),e.xp6(4),e.Q6J("ngIf",!n.secondDocument||""==n.secondDocument),e.xp6(1),e.Q6J("ngIf",n.secondDocument&&""!=n.secondDocument),e.xp6(3),e.Q6J("content","Subir imagen"),e.xp6(1),e.Q6J("content","Tomar fotografia"),e.xp6(4),e.Q6J("ngIf",!n.facePicture||""==n.facePicture),e.xp6(1),e.Q6J("ngIf",n.facePicture&&""!=n.facePicture),e.xp6(3),e.Q6J("content","Subir imagen"),e.xp6(1),e.Q6J("content","Tomar fotografia"),e.xp6(1),e.Q6J("ngIf",!n.visited))},dependencies:[v.O5,M.a8,M.dn,k.r,I.Y],styles:[".mat-card[_ngcontent-%COMP%]{padding:1px!important;width:100%;color:#7b7b7b}.section-body[_ngcontent-%COMP%]{background:white;color:#848484}"]}),(0,S.gn)([(0,w.xg)("firstDocument")],h.prototype,"firstDocument",void 0),(0,S.gn)([(0,w.xg)("secondDocument")],h.prototype,"secondDocument",void 0),(0,S.gn)([(0,w.xg)("facePicture")],h.prototype,"facePicture",void 0);let F=(()=>{class t{constructor(n){this.webstoreservice=n,this.nextScoringStep=new e.vpe,this.acceptRecurrentPayment=!1}ngOnInit(){}next(){this.webstoreservice.saveDataInSession("scoring",{acceptRecurrentPayment:!0}),this.acceptRecurrentPayment=!0,this.nextScoringStep.emit(!0)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(x.f))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-result-scoring"]],outputs:{nextScoringStep:"nextScoringStep"},decls:13,vars:2,consts:[[1,"container"],[1,"row","pb-3"],[1,"section-body","col-12","py-3"],[1,"d-flex","flex-column","justify-content-around","align-items-center"],[1,"d-flex","flex-column"],[3,"content","click",4,"ngIf"],[3,"content"],[3,"content","click"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"section",2)(3,"div",3)(4,"h3"),e._uU(5,"Antes de continuar"),e.qZA(),e.TgZ(6,"p"),e._uU(7,"Debido a tu capacidad de endeudamiento, para continuar el proceso de compra por este canal deber\xe1s habilitar el pago autom\xe1tico de tu servicio de manera mensual mediante una tarjeta de d\xe9bito o cr\xe9dito que te pediremos antes de concluir tu compra. Es un proceso sencillo que te asegurar\xe1 que puedas adquirir este plan."),e.qZA(),e.TgZ(8,"p"),e._uU(9,"\xbfDeseas continuar?"),e.qZA(),e.TgZ(10,"div",4),e.YNc(11,W,1,1,"app-button",5),e.qZA(),e._UZ(12,"app-button-outline",6),e.qZA()()()()),2&n&&(e.xp6(11),e.Q6J("ngIf",!o.acceptRecurrentPayment),e.xp6(1),e.Q6J("content","Ver otros planes"))},dependencies:[v.O5,k.r,I.Y],styles:[".mat-card[_ngcontent-%COMP%]{padding:1px!important;width:100%;color:#7b7b7b}.section-body[_ngcontent-%COMP%]{background:white;color:#848484}"]}),t})();var $=l(7876),ee=l(5428);function te(t,i){1&t&&e._UZ(0,"img",21)}function ne(t,i){1&t&&e._UZ(0,"img",22)}function oe(t,i){1&t&&e._UZ(0,"img",23)}function ie(t,i){if(1&t&&(e.TgZ(0,"div",14)(1,"div",15),e.YNc(2,te,1,0,"img",16),e.YNc(3,ne,1,0,"img",17),e.YNc(4,oe,1,0,"img",18),e.qZA(),e.TgZ(5,"div",19)(6,"p",20),e._uU(7),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.qZA()()()),2&t){const n=i.$implicit;e.xp6(2),e.Q6J("ngIf",n.componentTradeName&&"MOVIL"==(null==n?null:n.consumptionEntityType)),e.xp6(1),e.Q6J("ngIf",n.componentTradeName&&"IFIXED"==(null==n?null:n.consumptionEntityType)),e.xp6(1),e.Q6J("ngIf",n.componentTradeName&&"TV"==(null==n?null:n.consumptionEntityType)),e.xp6(3),e.Oqu(null==n?null:n.consumptionEntityType),e.xp6(2),e.Oqu(null==n?null:n.componentOffer)}}function se(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"app-check-coverage",24),e.NdJ("nextCoverageStep",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.changeModule(r.modules.checkCoverage.alias))}),e.qZA()}if(2&t){const n=e.oxw();e.s9C("id",n.modules.checkCoverage.alias)}}function re(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"app-result-scoring",25),e.NdJ("nextScoringStep",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.changeModule(r.modules.scoring.alias))}),e.qZA()}if(2&t){const n=e.oxw();e.s9C("id",n.modules.scoring.alias)}}function ae(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"app-admin-client",26),e.NdJ("nextAdminClientStep",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.changeModule(r.modules.adminClient.alias))}),e.qZA()}if(2&t){const n=e.oxw();e.s9C("id",n.modules.adminClient.alias)}}function ce(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"app-check-email",27),e.NdJ("nextCheckEmailStep",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.changeModule(r.modules.checkEmail.alias))}),e.qZA()}if(2&t){const n=e.oxw();e.s9C("id",n.modules.checkEmail.alias)}}function le(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"app-documents",28),e.NdJ("nextDocumentStep",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.changeModule(r.modules.documents.alias))}),e.qZA()}if(2&t){const n=e.oxw();e.s9C("id",n.modules.documents.alias)}}function ue(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"app-movil-list",29),e.NdJ("nextMovilListStep",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.changeModule(r.modules.movilList.alias))}),e.qZA()}if(2&t){const n=e.oxw();e.s9C("id",n.modules.movilList.alias)}}const de=[{path:"",component:(()=>{class t{constructor(n,o,r,a,s){this.webstoreservice=n,this.breservices=o,this.tokenService=r,this.scroller=a,this.ordersService=s,this.showCoverage=!0,this.showScoring=!0,this.orderTabs=[],this.modules={checkCoverage:{visible:!1,active:!1,enabled:!0,alias:"checkcoverage"},scoring:{visible:!1,active:!1,enabled:!0,alias:"scoring"},adminClient:{visible:!1,active:!1,enabled:!0,alias:"adminclient"},checkEmail:{visible:!1,active:!1,enabled:!0,alias:"checkemail"},documents:{visible:!1,active:!1,enabled:!0,alias:"documents"},movilList:{visible:!1,active:!1,enabled:!0,alias:"movilList"},detailsale:{visible:!1,active:!1,enabled:!0,alias:"detailsale"},deliveryMethod:{visible:!1,active:!1,enabled:!0,alias:"deliverymethod"}}}ngOnInit(){this.planCompositionCode=this.webstoreservice.getPlanCompositionCode(),this.planComposition=this.webstoreservice.getPlanComposition(),this.getToken()}loadBussinesRules(){this.breservices.coverageEvaluation(this.autentication.data.token).subscribe(n=>{this.coverageData=n,this.scoringStatus=this.webstoreservice.getStatusScoring(),this.initializeComponents()})}initializeComponents(){this.planList=this.planComposition?.planList,"OK"==this.coverageData.data.requireCoverageVerification?this.modules.checkCoverage.visible=!0:this.modules.checkCoverage.enabled=!1,this.modules.scoring.enabled="NORMAL"==this.scoringStatus,this.modules.scoring.visible=this.modules.scoring.enabled&&!this.modules.checkCoverage.visible,this.modules.adminClient.visible=!this.modules.scoring.visible&&!this.modules.checkCoverage.visible}getToken(){this.tokenService.gettoken().subscribe(n=>{this.autentication=n,this.webstoreservice.saveDataInSession("userId",n.data?.userId),this.createOrder()})}changeModule(n){console.log(n);var o=this;switch(n){case"checkcoverage":this.modules.scoring.enabled?(this.modules.scoring.visible=!0,setTimeout(function(){o.scroller.scrollToAnchor("scoring")},1e3)):this.changeModule("scoring");break;case"scoring":this.modules.adminClient.enabled?(this.modules.adminClient.visible=!0,setTimeout(function(){o.scroller.scrollToAnchor("adminclient")},1e3)):this.changeModule("adminclient");break;case"adminclient":this.modules.checkEmail.enabled?(this.modules.checkEmail.visible=!0,setTimeout(function(){o.scroller.scrollToAnchor("checkemail")},1e3)):this.changeModule("checkemail");break;case"checkemail":this.modules.documents.enabled?(this.modules.documents.visible=!0,setTimeout(function(){o.scroller.scrollToAnchor("documents")},1e3)):this.changeModule("documents");break;case"documents":this.modules.movilList.enabled?(this.modules.movilList.visible=!0,setTimeout(function(){o.scroller.scrollToAnchor("movillist")},1e3)):this.changeModule("movillist");break;case"movillist":this.modules.deliveryMethod.enabled?(this.modules.deliveryMethod.visible=!0,setTimeout(function(){o.scroller.scrollToAnchor("deliverymethod")},1e3)):this.changeModule("deliverymethod")}}createOrder(){const n=this.webstoreservice.getClientInformation();this.ordersService.createOrder({orderType:"PTFSALE",orderTypeName:"VENTAS",partyId:n.personId,fullName:n.fullName,customerId:n.clientId,channelCode:"CAATCL",channelName:"ATENCION AL CLIENTE",workplaceCode:"TIEEDISSA",workplaceName:"Tienda Edificio Issa",cityCode:n.documentCity,cityName:n.documentCityDesc,userId:this.autentication.data.userId,userName:"landing",userFullName:"landing",userRoleCode:"ROL_ASESOR_3"},this.autentication.data.token).subscribe(r=>{console.log(r),this.webstoreservice.saveDataInSession("orderMainId",r.data.data.orderMainId),this.registerCommercialOffer(r.data.data.orderMainId),this.loadBussinesRules()})}registerCommercialOffer(n){const o=this.webstoreservice.getPlanComposition(),r={orderId:n,sequence:0,userId:this.autentication.data.userId,microFrontendId:"commercial-offers-microfront-app",microFrontendData:JSON.stringify(o),statusCode:"INI"};this.ordersService.registerOrderView(r,this.autentication.data.token).subscribe(a=>{console.log(a),this.loadBussinesRules()})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(x.f),e.Y36(P),e.Y36(E.B),e.Y36(v.EM),e.Y36(L.N))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-order"]],decls:17,vars:8,consts:[[1,"container"],[1,"row"],[1,"d-none","d-md-block","col-5","bg","bg-light","bg-gradient","border","py-5","px-5","my-1"],[1,"sticky-top"],[1,"section-body","col-12","py-3"],[1,"d-flex","flex-column","justify-content-around","align-items-center"],["class","row w-100 border-top pt-2",4,"ngFor","ngForOf"],[1,"col-12","col-md-7"],[3,"id","nextCoverageStep",4,"ngIf"],[3,"id","nextScoringStep",4,"ngIf"],[3,"id","nextAdminClientStep",4,"ngIf"],[3,"id","nextCheckEmailStep",4,"ngIf"],[3,"id","nextDocumentStep",4,"ngIf"],[3,"id","nextMovilListStep",4,"ngIf"],[1,"row","w-100","border-top","pt-2"],[1,"col-1","text-end"],["src","assets/images/iconos/movil.png","alt","","style","width: 20px; height: auto;",4,"ngIf"],["src","assets/images/iconos/wifi.png","alt","","style","width: 25px; height: auto;",4,"ngIf"],["src","assets/images/iconos/tv.png","alt","","style","width: 25px; height: auto;",4,"ngIf"],[1,"col-11"],[1,"component-title","mb-0","fw-bold"],["src","assets/images/iconos/movil.png","alt","",2,"width","20px","height","auto"],["src","assets/images/iconos/wifi.png","alt","",2,"width","25px","height","auto"],["src","assets/images/iconos/tv.png","alt","",2,"width","25px","height","auto"],[3,"id","nextCoverageStep"],[3,"id","nextScoringStep"],[3,"id","nextAdminClientStep"],[3,"id","nextCheckEmailStep"],[3,"id","nextDocumentStep"],[3,"id","nextMovilListStep"]],template:function(n,o){1&n&&(e._UZ(0,"app-header"),e.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"section",4)(6,"div",5)(7,"h3"),e._uU(8),e.qZA(),e.YNc(9,ie,10,5,"div",6),e.qZA()()()(),e.TgZ(10,"div",7),e.YNc(11,se,1,1,"app-check-coverage",8),e.YNc(12,re,1,1,"app-result-scoring",9),e.YNc(13,ae,1,1,"app-admin-client",10),e.YNc(14,ce,1,1,"app-check-email",11),e.YNc(15,le,1,1,"app-documents",12),e.YNc(16,ue,1,1,"app-movil-list",13),e.qZA()()()),2&n&&(e.xp6(8),e.Oqu(null==o.planComposition?null:o.planComposition.groupTradeName),e.xp6(1),e.Q6J("ngForOf",null==o.planComposition?null:o.planComposition.planList),e.xp6(2),e.Q6J("ngIf",o.modules.checkCoverage.visible),e.xp6(1),e.Q6J("ngIf",o.modules.scoring.visible),e.xp6(1),e.Q6J("ngIf",o.modules.adminClient.visible),e.xp6(1),e.Q6J("ngIf",o.modules.checkEmail.visible),e.xp6(1),e.Q6J("ngIf",o.modules.documents.visible),e.xp6(1),e.Q6J("ngIf",o.modules.movilList.visible))},dependencies:[v.sg,v.O5,R.T,N.r,B.W,h,F,$.G,ee.h]}),t})()}];let me=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[_.Bz.forChild(de),_.Bz]}),t})();var pe=l(931),ge=l(5780),fe=l(3434);const he=[{path:"",component:h}];let ve=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[_.Bz.forChild(he),_.Bz]}),t})();var A=l(4466);let Ce=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[v.ez,ve,M.QW,A.m]}),t})();const be=[{path:"",component:F}];let _e=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[_.Bz.forChild(be),_.Bz]}),t})(),xe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[v.ez,_e,A.m]}),t})();var Se=l(9499),ye=l(5380),we=l(2593);let Me=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[v.ez,me,pe.CheckCoverageModule,ge.AdminClientModule,fe.CheckEmailModule,Ce,xe,Se.O,ye.MovilListModule,we.DetailSaleModule]}),t})()}}]);
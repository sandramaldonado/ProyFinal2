"use strict";(self.webpackChunklanding_master_sales_frontend=self.webpackChunklanding_master_sales_frontend||[]).push([[592],{2584:(L,v,e)=>{e.d(v,{Y:()=>g});var t=e(7065),n=e(4650),f=e(3063),d=e(529);let g=(()=>{class p{constructor(u,m){this.webstoreservice=u,this.httpClient=m,this.apiUrl=`${t.N.BreApiUrl}`}coverageEvaluation(u){console.log(u);const s={headers:{"Content-Type":"application/json",Authorization:"Bearer "+u}};var c=this.webstoreservice.getPlanComposition(),a={productTypeCode:[],compositionPlanCode:c.planCompositionCode,channelCode:"landing"};let C=[];for(let o=0;o<c.planList.length;o++)C.push(c.planList[o].consumptionEntityType);return a.productTypeCode=C,this.httpClient.post(`${this.apiUrl}/productCatalog/coverageEvaluation`,JSON.stringify(a),s)}}return p.\u0275fac=function(u){return new(u||p)(n.LFG(f.f),n.LFG(d.eN))},p.\u0275prov=n.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},7139:(L,v,e)=>{e.d(v,{n:()=>f});var t=e(1135),n=e(4650);let f=(()=>{class d{constructor(){this.captchSource=new t.X(null),this.captchStatus=this.captchSource.asObservable()}setCaptchaStatus(p){this.captchSource.next(p)}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275prov=n.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},5231:(L,v,e)=>{e.d(v,{N:()=>f});var t=e(7579),n=e(4650);let f=(()=>{class d{constructor(){this.products=[],this.listSizeSubject=new t.x,this._listSize=this.listSizeSubject.asObservable()}addToCart(p){this.products.push(p),this.listSizeSubject.next(this.products.length)}getItems(){return this.listSizeSubject.next(this.products.length),this.products}getSize(){return this._listSize}clearCart(){return this.products=[],this.products}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275prov=n.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},3560:(L,v,e)=>{e.d(v,{M:()=>u});var t=e(404),n=e(2843),f=e(262),d=e(7065),g=e(1002),p=e(4650),E=e(529);let u=(()=>{class m{constructor(c){this.http=c,this.products=[],this.product=new t.x,this.httpPostOptions=g.z8,this.httpGetOptions=g.bN}getProducts(){return this.http.get(d.N.url_api_simplekart_mock_server+"/items",this.httpGetOptions)}getProductDetail(c){return this.http.get(d.N.url_api_simplekart_mock_server+"/items/"+c).pipe((0,f.K)(a=>(console.log("error caught in service"),(0,n._)(a))))}}return m.\u0275fac=function(c){return new(c||m)(p.LFG(E.eN))},m.\u0275prov=p.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},6616:(L,v,e)=>{e.d(v,{B:()=>E});var t=e(529),n=e(5625),f=e(262),d=e(2843),g=e(7065),p=e(4650);let E=(()=>{class u{constructor(s){this.httpClient=s,this.urToken=`${g.N.SSIAuthApiUrl}`,this.httpOptions={headers:new t.WM({"Content-Type":"application/json"})}}gettoken(){return this.httpClient.post(`${this.urToken}`,JSON.stringify({username:"landing",password:"3X4E+U7d1m1XprRamjfaRg=="}),this.httpOptions).pipe((0,n.X)(1),(0,f.K)(this.handleError))}handleError(s){return s.error instanceof ErrorEvent?console.error("An error occurred:",s.error.message):console.error(`Backend returned code ${s.status}, body was: ${s.error}`),(0,d._)("Something bad happened; please try again later.")}}return u.\u0275fac=function(s){return new(s||u)(p.LFG(t.eN))},u.\u0275prov=p.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},404:(L,v,e)=>{e.d(v,{x:()=>t});class t{}},7876:(L,v,e)=>{e.d(v,{G:()=>u});var t=e(4650),n=e(3060),f=e(5231),d=e(7392),g=e(3683),p=e(4859),E=e(1561);let u=(()=>{class m{constructor(c,a){this.router=c,this.cartService=a,this.totalItems$=this.cartService.getSize()}ngOnInit(){this.totalItems$=this.cartService.getSize()}}return m.\u0275fac=function(c){return new(c||m)(t.Y36(n.F0),t.Y36(f.N))},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-header"]],decls:31,vars:1,consts:[[1,"container-fluid"],[1,"row"],["mat-icon-button","","aria-label","Example icon-button with menu icon",1,"example-icon"],[3,"matMenuTriggerFor"],["src","../../../assets/images/pages/header/logo-viva.png","alt","",1,"toolbar-logo"],[1,"toolbar-spacer"],["mat-icon-button","","aria-label","Example icon-button with share icon",1,"example-icon"],["menu","matMenu"],["mat-menu-item","","routerLink","/oferta/orden-compra/"],["mat-menu-item","","routerLink","/detalle-compra/"],["mat-menu-item","","routerLink","/cobertura"],["mat-menu-item","","routerLink","/documentos"],["mat-menu-item","","routerLink","/tomar-foto"],["mat-menu-item","","routerLink","/en-construccion"]],template:function(c,a){if(1&c&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-toolbar")(3,"button",2)(4,"mat-icon",3),t._uU(5,"menu"),t.qZA()(),t._UZ(6,"img",4)(7,"span",5),t.TgZ(8,"button",6)(9,"mat-icon"),t._uU(10,"account_circle"),t.qZA()()(),t.TgZ(11,"mat-menu",null,7)(13,"button",8)(14,"span"),t._uU(15,"Oferta - Orden de Compra"),t.qZA()(),t.TgZ(16,"button",9)(17,"span"),t._uU(18,"Detalle de Compra"),t.qZA()(),t.TgZ(19,"button",10)(20,"span"),t._uU(21,"Cobertura"),t.qZA()(),t.TgZ(22,"button",11)(23,"span"),t._uU(24,"Documentos"),t.qZA()(),t.TgZ(25,"button",12)(26,"span"),t._uU(27,"Tomar foto"),t.qZA()(),t.TgZ(28,"button",13)(29,"span"),t._uU(30,"En Construccion"),t.qZA()()()()()),2&c){const C=t.MAs(12);t.xp6(4),t.Q6J("matMenuTriggerFor",C)}},dependencies:[d.Hw,g.Ye,p.lW,E.VK,E.OP,E.p6,n.rH],styles:[".toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{background:linear-gradient(180deg,#D6F084 0%,rgba(214,240,132,0) 100%);color:#5c339d}.mat-toolbar[_ngcontent-%COMP%]   .toolbar-logo[_ngcontent-%COMP%]{max-width:100px}"]}),m})()},4021:(L,v,e)=>{e.d(v,{$:()=>c});var t=e(7065),n=e(4650),f=e(3063),d=e(529),g=e(262);let p=(()=>{class a{constructor(o){this.http=o}post(o,l,r){return this.http.post(this.getURL(o),l,this.getOptions(o,!0,null,r)).pipe((0,g.K)(h=>this.handleErrorConnection(h)))}handleErrorConnection(o){throw console.log(o.error.message),new Error(o&&o.error?o.error.message:"Method not implemented.")}getOptions(o,l,r,h){let M;if(M={headers:new d.WM},M.headers=M.headers.append("Accept","application/json"),h&&(M.headers=M.headers.append("Authorization",`Bearer ${h.token}`)),o&&l){const T=new d.LE({fromObject:o});M.params=T}return r&&(M.responseType=r),M}getURL(o){let l=`${t.N.endPoint}${o}`;return console.log(l),l}}return a.\u0275fac=function(o){return new(o||a)(n.LFG(d.eN))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),E=(()=>{class a{constructor(o){this.api=o}startOrder(o,l){return this.api.post("/workflow/sales/startOrder",l,{token:o}).pipe()}}return a.\u0275fac=function(o){return new(o||a)(n.LFG(p))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var u=e(3060),m=e(9336);function s(a,C){if(1&a){const o=n.EpF();n.TgZ(0,"card-pay-microfront-app",5),n.NdJ("dataPayMent",function(r){n.CHM(o);const h=n.oxw();return n.KtG(h.dataPayMent(r))}),n.qZA()}if(2&a){const o=n.oxw();n.s9C("paramIn",o.toSendString(o.microFrontParamIn)),n.s9C("paramClass",o.toSendString(o.paramClass))}}let c=(()=>{class a{constructor(o,l,r){this.webstoreService=o,this.salesService=l,this.router=r,this.title="Configura tu tarjeta de cr\xe9dito o d\xe9bito",this.message="Introduce tu tarjeta de d\xe9bito o cr\xe9dito para que puedas pagar tus servicios VIVA cada mes.",this.microFrontKeys={url:t.N.urlCardPayMicrofrontApp,id:"card-pay-microfront-app"},this.microFrontParamIn={},this.paramClass={rowItem:"row",col1:"col-1",col11:"col-11",col12:"col-12",col6:"col-6",sizeForm:"tama\xf1odiv form-field",labelInput:"hasEvents",labelAlert:"matError text-danger",txtCenter:"text-center",customBtn:"custom-button",appearance:"outline",floatLabel:"always",backgroundgreend:"backgroundgreend",p15:"padding15",aCenter:"align-items-center",txtEnd:"text-end"}}ngOnInit(){const o=this.webstoreService.getDataInSession("orderMainId");this.person=this.webstoreService.getClientInformation(),console.log("*****TOKEN");const r=this.webstoreService.getDataInSession("token");console.log(r),this.offertotaltariff=this.webstoreService.getDataInSession("offertotaltariff"),console.log("****this.offertotaltariff"),console.log(this.offertotaltariff),this.fullNames=this.getNames(),this.fullLastNames=this.getLastNames(),this.statusscoring=this.webstoreService.getDataInSession("statusscoring"),console.log("******statusscoring"),console.log(this.statusscoring);const h=this.getRecurring(this.statusscoring);console.log("*******descRecurring"),console.log(h),this.code=this.webstoreService.getOfferConsuptioncode(),console.log("******code OfferConsuptioncode"),console.log(this.code),this.microFrontParamIn={theme:"light-green",orderType:"SALES",orderId:o||null,channel:"LANDING",entityType:"partyId",entityId:this.person&&this.person.personId?this.person.personId:null,language:"es",termsOfService:{mode:"required",url:"https://www.viva.com.bo/"},currency:"BOB",cart:[{sellerId:"NT",sellerDesc:"Viva"}],recurring:{mode:h},fullNames:this.fullNames,fullLastNames:this.fullLastNames,uniqueId:null,payAmountMode:"required",user:this.person,amount:this.offertotaltariff,token:r}}getRecurring(o){var l="preselected";return"NORMAL"==o&&(l="required"),"CCOPOS"==this.code&&"EXPRESS"==o&&(l="optional"),l}getNames(){const o=this.person;let l=o.name;return null!=o.middleName&&(l=l+" "+o.middleName),l.trim()}getLastNames(){const o=this.person;let l=o.lastName1;return null!=o.lastName2&&(l=l+" "+o.lastName2),l.trim()}toSendString(o){return JSON.stringify(o)}dataPayMent(o){if(o){console.log(o);const l=this.webstoreService.getDataInSession("offernumberofentities"),r=this.webstoreService.getDataInSession("ordermainid"),h=this.webstoreService.getDataInSession("plancompositioncode"),M={orderNumber:r,saleType:this.statusscoring,processType:"PTFSALE",planCodeList:[h],rawData:"",totalPrice:"0",totalItems:l,deliveryMethod:"MANUAL",requiresCashbox:"0",requiresBonification:"0",requiresCustomerApproval:"0",requiresValidateCustomerData:"0",system:"LANDING"};console.log(M),this.salesService.startOrder(this.webstoreService.getDataInSession("token"),M).subscribe(T=>{console.log(T),this.router.navigate(["/payment-done"])})}}}return a.\u0275fac=function(o){return new(o||a)(n.Y36(f.f),n.Y36(E),n.Y36(u.F0))},a.\u0275cmp=n.Xpm({type:a,selectors:[["app-card-payment"]],decls:9,vars:3,consts:[[1,"container"],[1,"row","pb-3"],[1,"section-body","col-12","py-3"],[1,"pFont"],[3,"paramIn","paramClass","dataPayMent",4,"axLazyElement"],[3,"paramIn","paramClass","dataPayMent"]],template:function(o,l){1&o&&(n.TgZ(0,"div",0)(1,"div",1)(2,"section",2)(3,"h3"),n._uU(4),n.qZA(),n.TgZ(5,"p",3),n._uU(6),n.qZA(),n._UZ(7,"mat-card"),n.YNc(8,s,1,2,"card-pay-microfront-app",4),n.qZA()()()),2&o&&(n.xp6(4),n.Oqu(l.title),n.xp6(2),n.Oqu(l.message),n.xp6(2),n.Q6J("axLazyElement",l.microFrontKeys.url))},dependencies:[m.xY],styles:['@charset "UTF-8";  .pFont{font-family:Roboto;color:#8c8c8d}  .backgroundgreend{background:#DFF39F;border-radius:15px;padding:15px}  .padding15{padding:15px}mat-label.hasEvents[_ngcontent-%COMP%]{pointer-events:auto;color:#5c349d}mat-form-field[_ngcontent-%COMP%]{width:95%}input[_ngcontent-%COMP%]{color:#5c349d}#icon[_ngcontent-%COMP%]{position:absolute;display:block;bottom:.5rem;right:.1rem;opacity:.5!important;-webkit-user-select:none;user-select:none;cursor:pointer}  .tama\\f1odiv{margin-left:5px;margin-right:5px}  .matError{text-align:right;margin-top:-7px}  .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{opacity:.3}  .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:#0009!important}  .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#0009!important}']}),a})()},5943:(L,v,e)=>{e.r(v),e.d(v,{CardPaymentModule:()=>m});var t=e(9336),n=e(6895),f=e(4466),d=e(4021),g=e(3060),p=e(4650);const E=[{path:"",component:d.$}];let u=(()=>{class s{}return s.\u0275fac=function(a){return new(a||s)},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({imports:[g.Bz.forChild(E),g.Bz]}),s})(),m=(()=>{class s{}return s.\u0275fac=function(a){return new(a||s)},s.\u0275mod=p.oAB({type:s}),s.\u0275inj=p.cJS({imports:[n.ez,u,f.m,t.zB]}),s})()},3517:(L,v,e)=>{e.d(v,{W:()=>C});var t=e(4650),n=e(4006),f=e(529),d=e(7065),g=e(3063);let p=(()=>{class o{constructor(r,h){this.httpClient=r,this.webstoreservice=h,this.url=`${d.N.EmailApiUrl}`,this.httpOptions={headers:new f.WM({"Content-Type":"application/json",Accept:"application/json"})}}sendValidationEmail(r){var h=this.webstoreservice.getClientInformation();return this.httpClient.post(`${this.url}`,JSON.stringify({email:h.email&&""!=h.email?h.email:"cristhian.valencia@nuevatel.com",code:r}),this.httpOptions)}}return o.\u0275fac=function(r){return new(r||o)(t.LFG(f.eN),t.LFG(g.f))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var E=e(6895),u=e(3546),m=e(42);function s(o,l){1&o&&(t.TgZ(0,"small",23),t._uU(1,"El codigo es obligatorio"),t.qZA())}function c(o,l){1&o&&(t.TgZ(0,"small",23),t._uU(1,"El codigo no es valido"),t.qZA())}function a(o,l){1&o&&(t.TgZ(0,"small",24),t._uU(1,"El codigo es valido"),t.qZA())}let C=(()=>{class o{constructor(r,h){this.emailService=r,this.webstoreservice=h,this.validCode=!1,this.disabled=!0,this.emailValidationForm=new n.cw({codeValidationEmail:new n.NI("",[n.kI.required])}),this.nextCheckEmailStep=new t.vpe}get emailCode(){return this.emailValidationForm.get("codeValidationEmail")}ngOnInit(){console.log("check email"),this.sendValidationCode()}validateEmail(){console.log("emailcode input",this.emailCode?.value),console.log("randomemailcode",this.randomEmailCode),this.emailCode?.value==this.randomEmailCode&&(this.disabled=!1,this.validCode=!0,this.next())}sendValidationCode(){this.randomEmailCode=this.randomNumber(),this.emailService.sendValidationEmail(this.randomEmailCode).subscribe(h=>{console.log(h)})}randomNumber(){const r="0123456789",M=[];for(let T=0;T<4;T++){let I=Math.floor(Math.random()*r.length+1);-1===M.indexOf(r[I])?M.push(r[I]):T--}return M.join("")}next(){this.webstoreservice.saveDataInSession("checkemail",{validationCode:this.randomEmailCode}),this.nextCheckEmailStep.emit(!0)}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(p),t.Y36(g.f))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-check-email"]],outputs:{nextCheckEmailStep:"nextCheckEmailStep"},decls:35,vars:7,consts:[[1,"container"],[1,"row","pb-3"],[1,"section-body","col-12","py-3"],[1,"d-flex","flex-column","justify-content-around","align-items-center"],[1,"my-3","border"],[1,"text-center"],["action","",3,"formGroup"],["formEmail","ngForm"],[1,"d-flex","flex-column","justify-content-between","align-items-center","py-5"],["src","assets/images/iconos/email.png","alt","",1,"pb-2"],[1,"mb-3"],["for","codeValidationEmail",1,"form-label"],[1,"form-outline"],["id","codeValidationEmail","name","codeValidationEmail","formControlName","codeValidationEmail","type","text","value","Codigo de validaci\xf3n","aria-label","readonly input example","my-1","","autocomplete","off",1,"form-control","text-center"],[1,"d-flex","flex-column"],["class","text-danger",4,"ngIf"],["class","text-success",4,"ngIf"],["id","emailHelp",1,"form-text"],[1,"form-text",3,"click"],[1,"form-text"],[1,""],[1,"row","d-flex","flex-column","justify-content-between","align-items-center"],[3,"disabled","content","click"],[1,"text-danger"],[1,"text-success"]],template:function(r,h){if(1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"section",2)(3,"div",3)(4,"h3"),t._uU(5,"Validaci\xf3n de email"),t.qZA(),t.TgZ(6,"p"),t._uU(7,"Es necesario validar tu correo electr\xf3nico para el env\xedo de facturas electr\xf3nicas y otras notificaciones."),t.qZA(),t.TgZ(8,"mat-card",4)(9,"mat-card-content",5)(10,"form",6,7)(12,"div",8),t._UZ(13,"img",9),t.TgZ(14,"p"),t._uU(15,"No olvides que ser\xe1 utilizado como m\xe9todo de contacto oficial "),t.qZA(),t.TgZ(16,"div",10)(17,"label",11),t._uU(18,"Codigo de validaci\xf3n"),t.qZA(),t.TgZ(19,"div",12),t._UZ(20,"input",13),t.TgZ(21,"div",14),t.YNc(22,s,2,0,"small",15),t.YNc(23,c,2,0,"small",15),t.YNc(24,a,2,0,"small",16),t.qZA()(),t.TgZ(25,"div",17),t._uU(26,"Introduce el codigo recibido"),t.qZA(),t.TgZ(27,"a",18),t.NdJ("click",function(){return h.sendValidationCode()}),t._uU(28,"Reenviar codigo"),t.qZA(),t.TgZ(29,"div",19),t._uU(30),t.qZA()(),t.TgZ(31,"p",20),t._uU(32,"Te llegar\xe1 un correo de confirmaci\xf3n a tu correo electr\xf3nico para validarlo."),t.qZA(),t.TgZ(33,"div",21)(34,"app-button",22),t.NdJ("click",function(){return h.validateEmail()}),t.qZA()()()()()()()()()()),2&r){const M=t.MAs(11);t.xp6(10),t.Q6J("formGroup",h.emailValidationForm),t.xp6(12),t.Q6J("ngIf",(null==h.emailCode?null:h.emailCode.invalid)&&(null==h.emailCode?null:h.emailCode.touched)),t.xp6(1),t.Q6J("ngIf",!h.validCode&&M.submitted),t.xp6(1),t.Q6J("ngIf",h.validCode&&M.submitted),t.xp6(6),t.hij(" ",h.randomEmailCode,""),t.xp6(4),t.Q6J("disabled",h.emailValidationForm.invalid)("content","Validar correo electronico")}},dependencies:[E.O5,u.a8,u.dn,m.r,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u],styles:[".mat-card[_ngcontent-%COMP%]{padding:1px!important;width:100%;color:#7b7b7b}.section-body[_ngcontent-%COMP%]{background:white;color:#848484}"]}),o})()},3434:(L,v,e)=>{e.r(v),e.d(v,{CheckEmailModule:()=>s});var t=e(6895),n=e(3546),f=e(3060),d=e(3517),g=e(4650);const p=[{path:"",component:d.W}];let E=(()=>{class c{}return c.\u0275fac=function(C){return new(C||c)},c.\u0275mod=g.oAB({type:c}),c.\u0275inj=g.cJS({imports:[f.Bz.forChild(p),f.Bz]}),c})();var u=e(4006),m=e(4466);let s=(()=>{class c{}return c.\u0275fac=function(C){return new(C||c)},c.\u0275mod=g.oAB({type:c}),c.\u0275inj=g.cJS({imports:[t.ez,n.QW,E,m.m,u.u5,u.UX]}),c})()},5830:(L,v,e)=>{e.d(v,{M:()=>c});var t=e(4650),n=e(4006),f=e(3063),d=e(4527),g=e(6895),p=e(1948),E=e(5001);function u(a,C){if(1&a&&(t.TgZ(0,"div",11)(1,"mat-radio-button",12)(2,"span")(3,"i",13),t._uU(4),t.qZA(),t._uU(5),t.qZA()()()),2&a){const o=C.$implicit;t.Akn(o.style),t.xp6(1),t.Q6J("value",o.value)("checked",o.checked),t.xp6(3),t.Oqu(o.design),t.xp6(1),t.hij("\xa0",o.name,"")}}function m(a,C){1&a&&t._UZ(0,"app-store-city")}function s(a,C){1&a&&t._UZ(0,"app-almost-done")}let c=(()=>{class a{constructor(o,l){this.webstoreService=o,this.ordersService=l,this.title="\xbfC\xf3mo prefieres recibir tus equipos?",this.message="El servicio contratado tiene art\xedculos que debemos entregarte.",this.listOfOptions=[{value:"storesInfo",design:"storefront",style:"background-color: #5C349D; color: white; border: 1px solid #5C349D; border-radius:16px;",name:"Recoja en Tienda",id:"1",checked:!0}],this.validationForm=new n.cw({entregaData:new n.NI("",[n.kI.required])}),this.nextDeliveryMethodStep=new t.vpe,this.methods={storesInfo:{active:!1,visited:!1},deliveriesInfo:{active:!1,visited:!1}}}ngOnChanges(o){alert("Existi\xf3 un error en ejecuci\xf3n")}ngOnInit(){this.changeOptions("storesInfo")}resetDivs(){this.methods.storesInfo.active=!1,this.methods.deliveriesInfo.active=!1}changeOptions(o){switch(this.resetDivs(),this.methods[o].active=!0,o){case"storesInfo"==o:this.methods.storesInfo.visited||(this.methods.storesInfo.visited=!0);break;case"delivery"==o:this.methods.deliveriesInfo.visited||(this.methods.deliveriesInfo.visited=!0)}}radioChange(o){"storesInfo"===o.source.value?(console.log(o.source.value),this.changeOptions(o.source.value)):(alert("Servicio no disponible Temporalmente"),this.resetDivs())}next(){this.nextDeliveryMethodStep.emit(!0),this.registerDeliveryType()}registerDeliveryType(){const l={orderId:this.webstoreService.getDataInSession("orderMainId"),sequence:6,userId:this.webstoreService.getDataInSession("userId"),microFrontendId:"delivery-type-microfront-app",microFrontendData:JSON.stringify({deliveryTypeId:"authorizedPointTypeId",deliveryTypeDesc:"authorizedPoint",paymentTypeId:"paymentCashId",paymentTypeDesc:"paymentCash"}),statusCode:"INI"};this.ordersService.registerOrderView(l,this.webstoreService.getDataInSession("token")).subscribe(r=>{console.log(r)})}}return a.\u0275fac=function(o){return new(o||a)(t.Y36(f.f),t.Y36(d.N))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-delivery-method"]],outputs:{nextDeliveryMethodStep:"nextDeliveryMethodStep"},features:[t.TTD],decls:24,vars:5,consts:[[1,"container"],[1,"row","pb-3"],[1,"section-body","col-12","py-3"],["href","#"],[1,"row"],[1,"col-12"],[1,"container",2,"color","#5C349D"],[1,"row",2,"margin-left","2px","margin-right","2px"],["name","entregaData","fxLayout","column",3,"change"],["class","alert alert-info","role","alert",3,"style",4,"ngFor","ngForOf"],[4,"ngIf"],["role","alert",1,"alert","alert-info"],["name","entregaData",3,"value","checked"],[1,"material-icons",2,"color","white"]],template:function(o,l){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"section",2)(3,"h3"),t._uU(4),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.TgZ(7,"a",3),t._uU(8,"Ver detallle de art\xedculos"),t.qZA()(),t.TgZ(9,"div",4)(10,"div",5)(11,"div",6)(12,"h5")(13,"b"),t._uU(14,"Elija el metodo de entrega"),t.qZA()(),t._UZ(15,"br"),t.qZA()(),t.TgZ(16,"div",5)(17,"div",7)(18,"mat-radio-group",8),t.NdJ("change",function(h){return l.radioChange(h)}),t.YNc(19,u,6,6,"div",9),t.qZA()()(),t.TgZ(20,"div",5),t.YNc(21,m,1,0,"app-store-city",10),t.qZA(),t.TgZ(22,"div",5),t.YNc(23,s,1,0,"app-almost-done",10),t.qZA()()()()()),2&o&&(t.xp6(4),t.Oqu(l.title),t.xp6(2),t.hij("",l.message," "),t.xp6(13),t.Q6J("ngForOf",l.listOfOptions),t.xp6(2),t.Q6J("ngIf",l.methods.storesInfo.active),t.xp6(2),t.Q6J("ngIf",l.methods.storesInfo.active))},dependencies:[g.sg,g.O5,p.VQ,p.U0,E.h],styles:[".mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element{background-color:#fff!important;border-color:#fff!important;border-radius:8px}  .mat-radio-button.mat-accent .mat-radio-inner-circle{background-color:#5c339d!important;border-color:#fff!important;border-radius:8px}  .mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle{background-color:#fff!important;border-color:#fff!important;border-radius:8px}"]}),a})()},1083:(L,v,e)=>{e.r(v),e.d(v,{DeliveryMethodModule:()=>l});var t=e(6895),n=e(3060),f=e(5830),d=e(4650);const g=[{path:"",component:f.M}];let p=(()=>{class r{}return r.\u0275fac=function(M){return new(M||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({imports:[n.Bz.forChild(g),n.Bz]}),r})();var E=e(3720),u=e(4006),m=e(3546),s=e(4859),c=e(4466),a=e(1948),C=e(9336),o=e(1262);let l=(()=>{class r{}return r.\u0275fac=function(M){return new(M||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({imports:[t.ez,p,E.O,u.u5,u.UX,m.QW,s.ot,a.Fk,c.m,C.zB,o.StoreCityModule]}),r})()},5428:(L,v,e)=>{e.d(v,{h:()=>T});var t=e(4650),n=e(529),f=e(5625),d=e(262),g=e(2843),p=e(7065);let E=(()=>{class I{constructor(i){this.httpClient=i,this.apiUrl=`${p.N.MovilNumberListApiUrl}`,this.headers=new n.WM,this.httpOptions={}}getMovilList(i,y){return this.httpClient.post(`${this.apiUrl}`,i,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+y}}).pipe((0,f.X)(1),(0,d.K)(this.handleError))}handleError(i){return i.error instanceof ErrorEvent?console.error("An error occurred:",i.error.message):console.error(`Backend returned code ${i.status}, body was: ${i.error}`),(0,g._)("Something bad happened; please try again later.")}}return I.\u0275fac=function(i){return new(i||I)(t.LFG(n.eN))},I.\u0275prov=t.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();var u=e(3063),m=e(4527),s=e(4006),c=e(8423),a=e(6895),C=e(3546),o=e(1948),l=e(42);function r(I,D){if(1&I){const i=t.EpF();t.TgZ(0,"div",11)(1,"div",12)(2,"mat-radio-button",13),t.NdJ("change",function(S){t.CHM(i);const O=t.oxw(2);return t.KtG(O.radioChange(S))}),t.TgZ(3,"span"),t._uU(4),t.qZA()()()()}if(2&I){const i=D.$implicit;t.xp6(1),t.Akn(i.style),t.Tol(i.description),t.xp6(1),t.Q6J("value",i.value)("checked",i.checked),t.xp6(2),t.hij("\xa0",i.name,"")}}function h(I,D){if(1&I){const i=t.EpF();t.TgZ(0,"div",11)(1,"div",14)(2,"a",15),t.NdJ("click",function(){t.CHM(i);const S=t.oxw(2);return t.KtG(S.clickme())}),t._uU(3," Mas opciones.."),t.qZA()()()}}function M(I,D){if(1&I){const i=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"section",4)(3,"h3"),t._uU(4),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.qZA(),t.TgZ(7,"mat-card")(8,"mat-card-content")(9,"form",5)(10,"div")(11,"div",6),t.YNc(12,r,5,7,"div",7),t.YNc(13,h,4,0,"div",8),t.qZA()(),t.TgZ(14,"div",9)(15,"app-button",10),t.NdJ("click",function(){t.CHM(i);const S=t.oxw();return t.KtG(S.next())}),t.qZA()()()()()()()()}if(2&I){const i=t.oxw();t.xp6(4),t.Oqu(i.title),t.xp6(2),t.Oqu(i.message),t.xp6(6),t.Q6J("ngForOf",i.linesList),t.xp6(1),t.Q6J("ngIf",5===i.limitLine),t.xp6(2),t.Q6J("content","Continuar")}}let T=(()=>{class I{constructor(i,y,S,O,x){this.movilListService=i,this.webstoreService=y,this.ordersService=S,this.formBuilder=O,this.spinnerService=x,this.linesList=[],this.internetList=[],this.tvList=[],this.movilState=!1,this.internetState=!1,this.entertainmentState=!1,this.movilLine="",this.wanLine="",this.tvLine="",this.limitLine=5,this.movilCounter=0,this.nextMovilListStep=new t.vpe,this.title="Elige tu N\xfamero",this.message="Te damos algunas opciones de l\xedneas telef\xf3nicas para que puedas tener tu nuevo plan con un n\xfamero telef\xf3nico que te agrade.",this.visited=!1,this.key=sessionStorage.getItem("key"),this.orderId=this.webstoreService.getDataInSession("orderMainId"),this.userId=this.webstoreService.getDataInSession("userId")}ngOnInit(){this.spinnerService.show(),setTimeout(()=>{this.spinnerService.hide()},1e4),this.armadoJsonScoring(),this.searchList()}armadoJsonScoring(){this.planComposition=this.webstoreService.getPlanComposition(),this.planList=this.planComposition?.planList,console.log(this.planComposition),console.log(this.planList),this.productTypeCode=[];for(let i=0;i<this.planList.length;i++)this.productTypeCode.push(this.planList[i].consumptionEntityType);this.planService=JSON.stringify({userCode:"14",ceTypeCodeList:this.productTypeCode,processId:this.orderId})}searchList(){let i="",y="",S="";this.listagroup=[],this.movilListService.getMovilList(this.planService,this.key).subscribe(O=>{if(this.numberList=O,console.log(this.numberList),null!=this.numberList.data.data.movil&&(i=this.numberList.data.data.movil),i.length>0){this.movilState=!0,this.listagroup.push("movil_control");for(let x=0;x<this.limitLine;x++)this.movilCounter=x,x<this.limitLine&&(0==x?(this.movilLine=i[x],this.linesList.push({id:x.toString(),name:i[x],value:i[x],description:"alert alert-info divOption",style:"background-color: #AC99CE; color: white; border: 2px solid #5C349D; border-radius:15px;",checked:!0})):this.linesList.push({id:x.toString(),name:i[x],value:i[x],description:"alert alert-secondary divOption",style:"background-color: #F1F1F1; color: black; border-radius:15px;",checked:!1}))}null!=this.numberList.data.data.ifixed&&(y=this.numberList.data.data.ifixed),null!=this.numberList.data.data.tv&&(S=this.numberList.data.data.tv),console.log(y),y.length>0&&(this.internetState=!0,this.wanLine=y[0]),console.log(S),S.length>0&&(this.entertainmentState=!0,this.tvLine=S[0]),""==this.movilLine&&this.next()},O=>{console.log(O)})}next(){let i={},y={},S={},O={};""!=this.movilLine&&(i={movil:[this.movilLine]}),""!=this.wanLine&&(y={ifixed:[this.wanLine]}),""!=this.tvLine&&(S={tv:[this.tvLine]}),O=Object.assign(i,y,S);let x=JSON.stringify({data:{transactionId:this.numberList.data.transactionId,data:O}});this.webstoreService.saveMovilListinformation(x),this.visited=!0,this.registerAactivation(O),this.nextMovilListStep.emit(!0)}radioChange(i){var y=i.source.value;const S=this.numberList.data.data.movil;this.linesList=[],this.movilLine=i.source.value;for(let O=0;O<this.limitLine;O++)this.linesList.push(y==S[O]?{id:O.toString(),name:S[O],value:S[O],description:"alert alert-info divOption",style:"background-color: #AC99CE; color: white; border: 2px solid #5C349D; border-radius:15px;",checked:!0}:{id:O.toString(),name:S[O],value:S[O],description:"alert alert-secondary divOption",style:"background-color: #F1F1F1; color: black; border-radius:15px;",checked:!1})}clickme(){this.limitLine=10,this.linesList=[];const i=this.numberList.data.data.movil;if(i.length>0){this.movilState=!0,this.listagroup.push("movil_control");for(let y=0;y<i.length;y++)y<this.limitLine&&this.linesList.push(0==y?{id:y.toString(),name:i[y],value:i[y],description:"alert alert-info divOption",style:"background-color: #AC99CE; color: white; border: 2px solid #5C349D; border-radius:15px;",checked:!0}:{id:y.toString(),name:i[y],value:i[y],description:"alert alert-secondary divOption",style:"background-color: #F1F1F1; color: black; border-radius:15px;",checked:!1})}}registerAactivation(i){if(console.log(i),!i)return;const y=this.webstoreService.getDataInSession("addressData");let S,O=0;y&&y.forEach(P=>{P.selected&&(S=P),O=S?.addressId});let x=[];i.movil&&i.movil.length>0&&x.push({planType:"MOVIL",serviceIdentifier:i.movil[0]}),i.ifixed&&i.ifixed.length>0&&x.push({planType:"IFIXED",serviceIdentifier:i.ifixed[0],address:{addressId:O,addressTypeCode:"INS_ADDR"}}),i.tv&&i.tv.length>0&&x.push({planType:"TV",serviceIdentifier:i.tv[0]});const b={orderId:this.webstoreService.getDataInSession("orderMainId"),sequence:5,userId:this.webstoreService.getDataInSession("userId"),microFrontendId:"activation-data-microfront-app",microFrontendData:JSON.stringify(x),statusCode:"INI"};this.ordersService.registerOrderView(b,this.webstoreService.getDataInSession("token")).subscribe(P=>{console.log(P)})}}return I.\u0275fac=function(i){return new(i||I)(t.Y36(E),t.Y36(u.f),t.Y36(m.N),t.Y36(s.qu),t.Y36(c.t2))},I.\u0275cmp=t.Xpm({type:I,selectors:[["app-movil-list"]],outputs:{nextMovilListStep:"nextMovilListStep"},decls:2,vars:2,consts:[["class","container",4,"ngIf"],["bdColor","rgba(51, 51, 51, 0.8)","size","large","color","#D6F084","type","ball-8bits",3,"fullScreen"],[1,"container"],[1,"row","pb-3"],[1,"section-body","col-12","py-3"],["novalidate","","id","validationForm",1,"form",2,"background-color","white"],[1,"row"],["class","col-6 col-md-6 col-sm-6",4,"ngFor","ngForOf"],["class","col-6 col-md-6 col-sm-6",4,"ngIf"],[1,"text-center"],[3,"content","click"],[1,"col-6","col-md-6","col-sm-6"],["role","alert"],["name","movil",3,"value","checked","change"],["role","alert",1,"alert","alert-light","divOption",2,"text-align","center"],["href","javascript: void(0);",1,"linkMore",3,"click"]],template:function(i,y){1&i&&(t.YNc(0,M,16,5,"div",0),t._UZ(1,"ngx-spinner",1)),2&i&&(t.Q6J("ngIf",y.movilState),t.xp6(1),t.Q6J("fullScreen",!1))},dependencies:[a.sg,a.O5,s._Y,s.JL,s.F,C.a8,C.dn,o.U0,l.r,c.Ro],styles:["mat-card-header[_ngcontent-%COMP%]   .title-1[_ngcontent-%COMP%]{font-size:2.5vh;text-align:left;color:purple;font-family:MUSEO900-REGULAR;margin:0}mat-card-header[_ngcontent-%COMP%]   .title-2[_ngcontent-%COMP%]{font-size:1.8vh;text-align:left;color:#000;font-family:MUSEO600-REGULAR}mat-card-title[_ngcontent-%COMP%]{margin-bottom:.5vh}.mat-icon-button[_ngcontent-%COMP%]{width:4vh!important;height:auto!important;margin-top:-6px;margin-right:-3px}mat-card-content[_ngcontent-%COMP%]{background:#F0F0F0;color:purple;border-radius:0 0 25px 25px}.link-back[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:right;font-weight:700;text-decoration:none;color:#b302a7}.mat-card[_ngcontent-%COMP%]{padding:10px!important;width:100%;color:#7b7b7b}.section-body[_ngcontent-%COMP%]{background:white}mat-form-field[_ngcontent-%COMP%]{width:100%}.divOption[_ngcontent-%COMP%]{margin:5px}.linkMore[_ngcontent-%COMP%]{text-align:right;font-weight:700;text-decoration:none;color:#00008b}  .mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element{background-color:#fff!important;border-color:#fff!important;border-radius:8px}  .mat-radio-button.mat-accent .mat-radio-inner-circle{background-color:#5c339d!important;border-color:#fff!important;border-radius:8px}  .mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle{background-color:#fff!important;border-color:#fff!important;border-radius:8px}"]}),I})()},5380:(L,v,e)=>{e.r(v),e.d(v,{MovilListModule:()=>l});var t=e(6895),n=e(3060),f=e(5428),d=e(4650);const g=[{path:"",component:f.h}];let p=(()=>{class r{}return r.\u0275fac=function(M){return new(M||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({imports:[n.Bz.forChild(g),n.Bz]}),r})();var E=e(3720),u=e(1948),m=e(4859),s=e(4006),c=e(3546),a=e(4466),C=e(9336),o=e(8423);let l=(()=>{class r{}return r.\u0275fac=function(M){return new(M||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({imports:[t.ez,p,E.O,s.u5,s.UX,c.QW,m.ot,u.Fk,a.m,C.zB,o.ef]}),r})()},2663:(L,v,e)=>{e.d(v,{A:()=>E});var t=e(4650),n=e(3063),f=e(6895),d=e(42),g=e(9717);function p(u,m){if(1&u){const s=t.EpF();t.TgZ(0,"app-button",7),t.NdJ("click",function(){t.CHM(s);const a=t.oxw();return t.KtG(a.next())}),t.qZA()}2&u&&t.Q6J("content","Continuar")}let E=(()=>{class u{constructor(s){this.webstoreservice=s,this.nextScoringStep=new t.vpe,this.acceptRecurrentPayment=!1}ngOnInit(){console.log("init scoring")}next(){this.webstoreservice.saveDataInSession("scoring",{acceptRecurrentPayment:!0}),this.acceptRecurrentPayment=!0,this.nextScoringStep.emit(!0)}}return u.\u0275fac=function(s){return new(s||u)(t.Y36(n.f))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-result-scoring"]],outputs:{nextScoringStep:"nextScoringStep"},decls:19,vars:2,consts:[[1,"container"],[1,"row","pb-3"],[1,"section-body","col-12","py-3"],[1,"divMain","d-flex","flex-column","justify-content-around"],[1,"d-flex","flex-column","justify-content-around","align-items-center"],[3,"content","click",4,"ngIf"],[3,"content"],[3,"content","click"]],template:function(s,c){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"section",2)(3,"div",3)(4,"h3"),t._uU(5,"Antes de continuar"),t.qZA(),t.TgZ(6,"p"),t._uU(7,"Debido a tu capacidad de endeudamiento, para continuar el proceso de compra por este canal "),t.TgZ(8,"b"),t._uU(9,"deber\xe1s habilitar el pago autom\xe1tico de tu servicio de manera mensual"),t.qZA(),t._uU(10," mediante una tarjeta de d\xe9bito o cr\xe9dito que te pediremos antes de concluir tu compra. "),t._UZ(11,"br"),t._uU(12," Es un proceso sencillo que te asegurar\xe1 que puedas adquirir este plan. "),t._UZ(13,"br")(14,"br"),t._uU(15," \xbfDeseas continuar?"),t.qZA(),t.TgZ(16,"div",4),t.YNc(17,p,1,1,"app-button",5),t._UZ(18,"app-button-outline",6),t.qZA()()()()()),2&s&&(t.xp6(17),t.Q6J("ngIf",!c.acceptRecurrentPayment),t.xp6(1),t.Q6J("content","Ver otros planes"))},dependencies:[f.O5,d.r,g.Y],styles:[".mat-card[_ngcontent-%COMP%]{padding:1px!important;width:100%;color:#7b7b7b}.section-body[_ngcontent-%COMP%]{background:white;color:#848484}.divMain[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:left;color:#5c349d}.divMain[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;color:#777}"]}),u})()},1102:(L,v,e)=>{e.r(v),e.d(v,{ResultScoringModule:()=>u});var t=e(6895),n=e(3060),f=e(2663),d=e(4650);const g=[{path:"",component:f.A}];let p=(()=>{class m{}return m.\u0275fac=function(c){return new(c||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({imports:[n.Bz.forChild(g),n.Bz]}),m})();var E=e(4466);let u=(()=>{class m{}return m.\u0275fac=function(c){return new(c||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({imports:[t.ez,p,E.m]}),m})()}}]);
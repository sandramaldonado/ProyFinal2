"use strict";(self.webpackChunklanding_master_sales_frontend=self.webpackChunklanding_master_sales_frontend||[]).push([[592],{2584:(_,m,e)=>{e.d(m,{Y:()=>c});var t=e(7065),l=e(4650),u=e(3063),i=e(529);let c=(()=>{class s{constructor(r,o){this.webstoreservice=r,this.httpClient=o,this.apiUrl=`${t.N.BreApiUrl}`}coverageEvaluation(r){console.log(r);const n={headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}};var a=this.webstoreservice.getPlanComposition(),h={productTypeCode:[],compositionPlanCode:a.planCompositionCode,channelCode:"landing"};let C=[];for(let p=0;p<a.planList.length;p++)C.push(a.planList[p].consumptionEntityType);return h.productTypeCode=C,this.httpClient.post(`${this.apiUrl}/productCatalog/coverageEvaluation`,JSON.stringify(h),n)}}return s.\u0275fac=function(r){return new(r||s)(l.LFG(u.f),l.LFG(i.eN))},s.\u0275prov=l.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},7139:(_,m,e)=>{e.d(m,{n:()=>u});var t=e(1135),l=e(4650);let u=(()=>{class i{constructor(){this.captchSource=new t.X(null),this.captchStatus=this.captchSource.asObservable()}setCaptchaStatus(s){this.captchSource.next(s)}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},5231:(_,m,e)=>{e.d(m,{N:()=>u});var t=e(7579),l=e(4650);let u=(()=>{class i{constructor(){this.products=[],this.listSizeSubject=new t.x,this._listSize=this.listSizeSubject.asObservable()}addToCart(s){this.products.push(s),this.listSizeSubject.next(this.products.length)}getItems(){return this.listSizeSubject.next(this.products.length),this.products}getSize(){return this._listSize}clearCart(){return this.products=[],this.products}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},3560:(_,m,e)=>{e.d(m,{M:()=>r});var t=e(404),l=e(2843),u=e(262),i=e(7065),c=e(1002),s=e(4650),d=e(529);let r=(()=>{class o{constructor(a){this.http=a,this.products=[],this.product=new t.x,this.httpPostOptions=c.z8,this.httpGetOptions=c.bN}getProducts(){return this.http.get(i.N.url_api_simplekart_mock_server+"/items",this.httpGetOptions)}getProductDetail(a){return this.http.get(i.N.url_api_simplekart_mock_server+"/items/"+a).pipe((0,u.K)(h=>(console.log("error caught in service"),(0,l._)(h))))}}return o.\u0275fac=function(a){return new(a||o)(s.LFG(d.eN))},o.\u0275prov=s.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},6616:(_,m,e)=>{e.d(m,{B:()=>d});var t=e(529),l=e(5625),u=e(262),i=e(2843),c=e(7065),s=e(4650);let d=(()=>{class r{constructor(n){this.httpClient=n,this.urToken=`${c.N.SSIAuthApiUrl}`,this.httpOptions={headers:new t.WM({"Content-Type":"application/json"})}}gettoken(){return this.httpClient.post(`${this.urToken}`,JSON.stringify({username:"landing",password:"3X4E+U7d1m1XprRamjfaRg=="}),this.httpOptions).pipe((0,l.X)(1),(0,u.K)(this.handleError))}handleError(n){return n.error instanceof ErrorEvent?console.error("An error occurred:",n.error.message):console.error(`Backend returned code ${n.status}, body was: ${n.error}`),(0,i._)("Something bad happened; please try again later.")}}return r.\u0275fac=function(n){return new(n||r)(s.LFG(t.eN))},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},404:(_,m,e)=>{e.d(m,{x:()=>t});class t{}},7876:(_,m,e)=>{e.d(m,{G:()=>r});var t=e(4650),l=e(3060),u=e(5231),i=e(7392),c=e(3683),s=e(4859),d=e(1561);let r=(()=>{class o{constructor(a,h){this.router=a,this.cartService=h,this.totalItems$=this.cartService.getSize()}ngOnInit(){this.totalItems$=this.cartService.getSize()}}return o.\u0275fac=function(a){return new(a||o)(t.Y36(l.F0),t.Y36(u.N))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-header"]],decls:31,vars:1,consts:[[1,"container-fluid"],[1,"row"],["mat-icon-button","","aria-label","Example icon-button with menu icon",1,"example-icon"],[3,"matMenuTriggerFor"],["src","../../../assets/images/pages/header/logo-viva.png","alt","",1,"toolbar-logo"],[1,"toolbar-spacer"],["mat-icon-button","","aria-label","Example icon-button with share icon",1,"example-icon"],["menu","matMenu"],["mat-menu-item","","routerLink","/oferta/orden-compra/"],["mat-menu-item","","routerLink","/detalle-compra/"],["mat-menu-item","","routerLink","/cobertura"],["mat-menu-item","","routerLink","/documentos"],["mat-menu-item","","routerLink","/tomar-foto"],["mat-menu-item","","routerLink","/en-construccion"]],template:function(a,h){if(1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-toolbar")(3,"button",2)(4,"mat-icon",3),t._uU(5,"menu"),t.qZA()(),t._UZ(6,"img",4)(7,"span",5),t.TgZ(8,"button",6)(9,"mat-icon"),t._uU(10,"account_circle"),t.qZA()()(),t.TgZ(11,"mat-menu",null,7)(13,"button",8)(14,"span"),t._uU(15,"Oferta - Orden de Compra"),t.qZA()(),t.TgZ(16,"button",9)(17,"span"),t._uU(18,"Detalle de Compra"),t.qZA()(),t.TgZ(19,"button",10)(20,"span"),t._uU(21,"Cobertura"),t.qZA()(),t.TgZ(22,"button",11)(23,"span"),t._uU(24,"Documentos"),t.qZA()(),t.TgZ(25,"button",12)(26,"span"),t._uU(27,"Tomar foto"),t.qZA()(),t.TgZ(28,"button",13)(29,"span"),t._uU(30,"En Construccion"),t.qZA()()()()()),2&a){const C=t.MAs(12);t.xp6(4),t.Q6J("matMenuTriggerFor",C)}},dependencies:[i.Hw,c.Ye,s.lW,d.VK,d.OP,d.p6,l.rH],styles:[".toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{background:linear-gradient(180deg,#D6F084 0%,rgba(214,240,132,0) 100%);color:#5c339d}.mat-toolbar[_ngcontent-%COMP%]   .toolbar-logo[_ngcontent-%COMP%]{max-width:100px}"]}),o})()},8887:(_,m,e)=>{e.d(m,{$:()=>s});var t=e(4650),l=e(7065),u=e(3063),i=e(9336);function c(d,r){if(1&d&&t._UZ(0,"card-pay-microfront-app",5),2&d){const o=t.oxw();t.s9C("paramIn",o.toSendString(o.microFrontParamIn)),t.s9C("paramClass",o.toSendString(o.paramClass))}}let s=(()=>{class d{constructor(o){this.webstoreService=o,this.microFrontKeys={url:l.N.urlCardPayMicrofrontApp,id:"card-pay-microfront-app"},this.microFrontParamIn={},this.paramClass={rowItem:"row",col1:"col-1",col11:"col-11",col12:"col-12",col6:"col-6",sizeForm:"tama\xf1odiv form-field",labelInput:"hasEvents",labelAlert:"matError text-danger",txtCenter:"text-center",customBtn:"custom-button",appearance:"outline",floatLabel:"always",backgroundGreend:"backgroundGreen",p15:"padding15",aCenter:"align-items-center"},this.nextCoverageStep=new t.vpe,this.title="Configura tu tarjeta de cr\xe9dito o d\xe9bito",this.message="Introduce tu tarjeta de d\xe9bito o cr\xe9dito para que puedas pagar tus servicios VIVA cada mes.",console.log("*******getClientInformation"),console.log(this.webstoreService.getClientInformation()),console.log("*****TOKEN"),console.log(this.webstoreService.getDataInSession("token")),this.fullNames=this.getNames(),this.fullLastNames=this.getLastNames()}ngOnInit(){console.log("*******getMovilListInformation"),console.log(this.webstoreService.getMovilListInformation());const o=this.webstoreService.getDataInSession("orderMainId");console.log("*******orderId"),console.log(o);const n=this.webstoreService.getClientInformation();console.log("*******personId"),console.log(n.personId),console.log("*******getPlanComposition");const a=this.webstoreService.getPlanComposition();console.log(a);const C=this.webstoreService.getClientInformation();this.microFrontParamIn={theme:"light-green",orderType:"SALES",orderId:o||null,channel:"LANDING",entityType:"partyId",entityId:n&&n.personId?n.personId:null,language:"es",termsOfService:{mode:"required",url:"https://www.viva.com.bo/"},amount:"150.90",currency:"BOB",cart:[{sellerId:"NT",sellerDesc:"Viva"}],recurring:"required",fullNames:this.fullNames,fullLastNames:this.fullLastNames,uniqueId:null,payAmountMode:"required",user:C}}getNames(){const o=this.webstoreService.getClientInformation();let n=o.name;return null!=o.middleName&&(n=n+" "+o.middleName),n.trim()}getLastNames(){const o=this.webstoreService.getClientInformation();let n=o.lastName1;return null!=o.lastName2&&(n=n+" "+o.lastName2),n.trim()}toSendString(o){return JSON.stringify(o)}next(){this.nextCoverageStep.emit(!0)}}return d.\u0275fac=function(o){return new(o||d)(t.Y36(u.f))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-card-payment"]],outputs:{nextCoverageStep:"nextCoverageStep"},decls:9,vars:3,consts:[[1,"container"],[1,"row","pb-3"],[1,"section-body","col-12","py-3"],[1,"pFont"],[3,"paramIn","paramClass",4,"axLazyElement"],[3,"paramIn","paramClass"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"section",2)(3,"h3"),t._uU(4),t.qZA(),t.TgZ(5,"p",3),t._uU(6),t.qZA(),t._UZ(7,"mat-card"),t.YNc(8,c,1,2,"card-pay-microfront-app",4),t.qZA()()()),2&o&&(t.xp6(4),t.Oqu(n.title),t.xp6(2),t.Oqu(n.message),t.xp6(2),t.Q6J("axLazyElement",n.microFrontKeys.url))},dependencies:[i.xY],styles:['@charset "UTF-8";.pFont[_ngcontent-%COMP%]{font-family:Roboto;color:#8c8c8d}.backgroundGreen[_ngcontent-%COMP%]{background:#DFF39F;border-radius:15px;padding:15px}.padding15[_ngcontent-%COMP%]{padding:15px}mat-label.hasEvents[_ngcontent-%COMP%]{pointer-events:auto;color:#5c349d}mat-form-field[_ngcontent-%COMP%]{width:95%}input[_ngcontent-%COMP%]{color:#5c349d}#icon[_ngcontent-%COMP%]{position:absolute;display:block;bottom:.5rem;right:.1rem;opacity:.5!important;-webkit-user-select:none;user-select:none;cursor:pointer}.tama\\f1odiv[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}.matError[_ngcontent-%COMP%]{text-align:right;margin-top:-7px}']}),d})()},5943:(_,m,e)=>{e.r(m),e.d(m,{CardPaymentModule:()=>o});var t=e(9336),l=e(6895),u=e(4466),i=e(8887),c=e(3060),s=e(4650);const d=[{path:"",component:i.$}];let r=(()=>{class n{}return n.\u0275fac=function(h){return new(h||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[c.Bz.forChild(d),c.Bz]}),n})(),o=(()=>{class n{}return n.\u0275fac=function(h){return new(h||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[l.ez,r,u.m,t.zB]}),n})()},3517:(_,m,e)=>{e.d(m,{W:()=>C});var t=e(4650),l=e(4006),u=e(529),i=e(7065),c=e(3063);let s=(()=>{class p{constructor(v,g){this.httpClient=v,this.webstoreservice=g,this.url=`${i.N.EmailApiUrl}`,this.httpOptions={headers:new u.WM({"Content-Type":"application/json",Accept:"application/json"})}}sendValidationEmail(v){var g=this.webstoreservice.getClientInformation();return this.httpClient.post(`${this.url}`,JSON.stringify({email:g.email&&""!=g.email?g.email:"cristhian.valencia@nuevatel.com",code:v}),this.httpOptions)}}return p.\u0275fac=function(v){return new(v||p)(t.LFG(u.eN),t.LFG(c.f))},p.\u0275prov=t.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();var d=e(6895),r=e(3546),o=e(42);function n(p,f){1&p&&(t.TgZ(0,"small",23),t._uU(1,"El codigo es obligatorio"),t.qZA())}function a(p,f){1&p&&(t.TgZ(0,"small",23),t._uU(1,"El codigo no es valido"),t.qZA())}function h(p,f){1&p&&(t.TgZ(0,"small",24),t._uU(1,"El codigo es valido"),t.qZA())}let C=(()=>{class p{constructor(v,g){this.emailService=v,this.webstoreservice=g,this.validCode=!1,this.disabled=!0,this.emailValidationForm=new l.cw({codeValidationEmail:new l.NI("",[l.kI.required])}),this.nextCheckEmailStep=new t.vpe}get emailCode(){return this.emailValidationForm.get("codeValidationEmail")}ngOnInit(){console.log("check email"),this.sendValidationCode()}validateEmail(){console.log("emailcode input",this.emailCode?.value),console.log("randomemailcode",this.randomEmailCode),this.emailCode?.value==this.randomEmailCode&&(this.disabled=!1,this.validCode=!0,this.next())}sendValidationCode(){this.randomEmailCode=this.randomNumber(),this.emailService.sendValidationEmail(this.randomEmailCode).subscribe(g=>{console.log(g)})}randomNumber(){const v="0123456789",E=[];for(let M=0;M<4;M++){let P=Math.floor(Math.random()*v.length+1);-1===E.indexOf(v[P])?E.push(v[P]):M--}return E.join("")}next(){this.webstoreservice.saveDataInSession("checkemail",{validationCode:this.randomEmailCode}),this.nextCheckEmailStep.emit(!0)}}return p.\u0275fac=function(v){return new(v||p)(t.Y36(s),t.Y36(c.f))},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-check-email"]],outputs:{nextCheckEmailStep:"nextCheckEmailStep"},decls:35,vars:7,consts:[[1,"container"],[1,"row","pb-3"],[1,"section-body","col-12","py-3"],[1,"d-flex","flex-column","justify-content-around","align-items-center"],[1,"my-3","border"],[1,"text-center"],["action","",3,"formGroup"],["formEmail","ngForm"],[1,"d-flex","flex-column","justify-content-between","align-items-center","py-5"],["src","assets/images/iconos/email.png","alt","",1,"pb-2"],[1,"mb-3"],["for","codeValidationEmail",1,"form-label"],[1,"form-outline"],["id","codeValidationEmail","name","codeValidationEmail","formControlName","codeValidationEmail","type","text","value","Codigo de validaci\xf3n","aria-label","readonly input example","my-1","","autocomplete","off",1,"form-control"],[1,"d-flex","flex-column"],["class","text-danger",4,"ngIf"],["class","text-success",4,"ngIf"],["id","emailHelp",1,"form-text"],[1,"form-text",3,"click"],[1,"form-text"],[1,""],[1,"row","d-flex","flex-column","justify-content-between","align-items-center"],[3,"disabled","content","click"],[1,"text-danger"],[1,"text-success"]],template:function(v,g){if(1&v&&(t.TgZ(0,"div",0)(1,"div",1)(2,"section",2)(3,"div",3)(4,"h3"),t._uU(5,"Validaci\xf3n de email"),t.qZA(),t.TgZ(6,"p"),t._uU(7,"Es necesario validar tu correo electr\xf3nico para el env\xedo de facturas electr\xf3nicas y otras notificaciones."),t.qZA(),t.TgZ(8,"mat-card",4)(9,"mat-card-content",5)(10,"form",6,7)(12,"div",8),t._UZ(13,"img",9),t.TgZ(14,"p"),t._uU(15,"No olvides que ser\xe1 utilizado como m\xe9todo de contacto oficial "),t.qZA(),t.TgZ(16,"div",10)(17,"label",11),t._uU(18,"Codigo de validaci\xf3n"),t.qZA(),t.TgZ(19,"div",12),t._UZ(20,"input",13),t.TgZ(21,"div",14),t.YNc(22,n,2,0,"small",15),t.YNc(23,a,2,0,"small",15),t.YNc(24,h,2,0,"small",16),t.qZA()(),t.TgZ(25,"div",17),t._uU(26,"Introduce el codigo recibido"),t.qZA(),t.TgZ(27,"a",18),t.NdJ("click",function(){return g.sendValidationCode()}),t._uU(28,"Reenviar codigo"),t.qZA(),t.TgZ(29,"div",19),t._uU(30),t.qZA()(),t.TgZ(31,"p",20),t._uU(32,"Te llegar\xe1 un correo de confirmaci\xf3n a tu correo electr\xf3nico para validarlo."),t.qZA(),t.TgZ(33,"div",21)(34,"app-button",22),t.NdJ("click",function(){return g.validateEmail()}),t.qZA()()()()()()()()()()),2&v){const E=t.MAs(11);t.xp6(10),t.Q6J("formGroup",g.emailValidationForm),t.xp6(12),t.Q6J("ngIf",(null==g.emailCode?null:g.emailCode.invalid)&&(null==g.emailCode?null:g.emailCode.touched)),t.xp6(1),t.Q6J("ngIf",!g.validCode&&E.submitted),t.xp6(1),t.Q6J("ngIf",g.validCode&&E.submitted),t.xp6(6),t.hij(" ",g.randomEmailCode,""),t.xp6(4),t.Q6J("disabled",g.emailValidationForm.invalid)("content","Validar correo electronico")}},dependencies:[d.O5,r.a8,r.dn,o.r,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u],styles:[".mat-card[_ngcontent-%COMP%]{padding:1px!important;width:100%;color:#7b7b7b}.section-body[_ngcontent-%COMP%]{background:white;color:#848484}"]}),p})()},3434:(_,m,e)=>{e.r(m),e.d(m,{CheckEmailModule:()=>n});var t=e(6895),l=e(3546),u=e(3060),i=e(3517),c=e(4650);const s=[{path:"",component:i.W}];let d=(()=>{class a{}return a.\u0275fac=function(C){return new(C||a)},a.\u0275mod=c.oAB({type:a}),a.\u0275inj=c.cJS({imports:[u.Bz.forChild(s),u.Bz]}),a})();var r=e(4006),o=e(4466);let n=(()=>{class a{}return a.\u0275fac=function(C){return new(C||a)},a.\u0275mod=c.oAB({type:a}),a.\u0275inj=c.cJS({imports:[t.ez,l.QW,d,o.m,r.u5,r.UX]}),a})()},2663:(_,m,e)=>{e.d(m,{A:()=>d});var t=e(4650),l=e(3063),u=e(6895),i=e(42),c=e(9717);function s(r,o){if(1&r){const n=t.EpF();t.TgZ(0,"app-button",7),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.next())}),t.qZA()}2&r&&t.Q6J("content","Continuar")}let d=(()=>{class r{constructor(n){this.webstoreservice=n,this.nextScoringStep=new t.vpe,this.acceptRecurrentPayment=!1}ngOnInit(){console.log("init scoring")}next(){this.webstoreservice.saveDataInSession("scoring",{acceptRecurrentPayment:!0}),this.acceptRecurrentPayment=!0,this.nextScoringStep.emit(!0)}}return r.\u0275fac=function(n){return new(n||r)(t.Y36(l.f))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-result-scoring"]],outputs:{nextScoringStep:"nextScoringStep"},decls:19,vars:2,consts:[[1,"container"],[1,"row","pb-3"],[1,"section-body","col-12","py-3"],[1,"divMain","d-flex","flex-column","justify-content-around"],[1,"d-flex","flex-column","justify-content-around","align-items-center"],[3,"content","click",4,"ngIf"],[3,"content"],[3,"content","click"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"section",2)(3,"div",3)(4,"h3"),t._uU(5,"Antes de continuar"),t.qZA(),t.TgZ(6,"p"),t._uU(7,"Debido a tu capacidad de endeudamiento, para continuar el proceso de compra por este canal "),t.TgZ(8,"b"),t._uU(9,"deber\xe1s habilitar el pago autom\xe1tico de tu servicio de manera mensual"),t.qZA(),t._uU(10," mediante una tarjeta de d\xe9bito o cr\xe9dito que te pediremos antes de concluir tu compra. "),t._UZ(11,"br"),t._uU(12," Es un proceso sencillo que te asegurar\xe1 que puedas adquirir este plan. "),t._UZ(13,"br")(14,"br"),t._uU(15," \xbfDeseas continuar?"),t.qZA(),t.TgZ(16,"div",4),t.YNc(17,s,1,1,"app-button",5),t._UZ(18,"app-button-outline",6),t.qZA()()()()()),2&n&&(t.xp6(17),t.Q6J("ngIf",!a.acceptRecurrentPayment),t.xp6(1),t.Q6J("content","Ver otros planes"))},dependencies:[u.O5,i.r,c.Y],styles:[".mat-card[_ngcontent-%COMP%]{padding:1px!important;width:100%;color:#7b7b7b}.section-body[_ngcontent-%COMP%]{background:white;color:#848484}.divMain[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:left;color:#5c349d}.divMain[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;color:#777}"]}),r})()},1102:(_,m,e)=>{e.r(m),e.d(m,{ResultScoringModule:()=>r});var t=e(6895),l=e(3060),u=e(2663),i=e(4650);const c=[{path:"",component:u.A}];let s=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=i.oAB({type:o}),o.\u0275inj=i.cJS({imports:[l.Bz.forChild(c),l.Bz]}),o})();var d=e(4466);let r=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=i.oAB({type:o}),o.\u0275inj=i.cJS({imports:[t.ez,s,d.m]}),o})()}}]);